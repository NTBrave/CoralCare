(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-18f1a0c4"],{"018b":function(e,t,r){"use strict";var a=r("5f3a"),s=r.n(a);s.a},"082b":function(e,t,r){"use strict";var a=r("b29f"),s=r.n(a);s.a},"0e17":function(e,t,r){"use strict";var a=r("44c5"),s=r.n(a);s.a},1319:function(e,t,r){"use strict";var a=r("4c2f"),s=r.n(a);s.a},"14c5":function(e,t,r){},1717:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{key:e.isCreated,staticClass:"createBoard"},[r("div",{staticClass:"infoArea"},[r("div",{staticClass:"activityNum"},[e._v("活动编号："+e._s(e.activityNum))]),r("div",{staticClass:"info"},[e.activityFiles?r("file-list",{style:{marginTop:"4.5vh"},attrs:{fileNameList:e.activityFiles}}):e._e(),r("div",{staticClass:"form"},[r("p",[e._v(e._s(e.operateFile))]),r("activity-form",{attrs:{sowData:e.sowData,breedData:e.breedData,recordData:e.recordData,isCreated:e.isCreated}})],1)],1)]),r("div",{staticClass:"uploadArea"},[r("el-row",{style:{height:"9.5vh"}},[e.imgUrl.length?r("picture-swiper",{attrs:{imgHeight:9.5,imgWidth:10,imgUrl:e.imgUrl},on:{selectOneImg:e.chooseSwiperImg}}):e._e()],1),r("el-row",{style:{position:"",margin:"0 auto"}},[r("upload-border",[r("div",{staticClass:"imgUpload"},[r("img",{staticClass:"showOneImg",attrs:{width:"80%",height:"70%",src:e.imgUrlFormSwiper,alt:""}}),r("up-load")],1)])],1)],1)])},s=[],i=r("cebc"),o=r("2f62"),l=r("e1ba"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"formRoot"},[r("el-form",{staticClass:"A-Two"},[r("el-form-item",[r("el-col",{attrs:{span:4}},[r("span",{style:{marginLeft:"5px",fontSize:"13px"}},[e._v("选择珊瑚")])]),r("el-col",{attrs:{span:4}},[r("el-select",{attrs:{disabled:"",placeholder:""},model:{value:e.breedForm.breedArea.firstArea,callback:function(t){e.$set(e.breedForm.breedArea,"firstArea",t)},expression:"breedForm.breedArea.firstArea"}},e._l(e.ZY_quyu,function(e,t){return r("el-option",{key:t,attrs:{label:e.name,value:e.spaid}})}),1)],1),r("el-col",{attrs:{span:4}},[r("el-select",{attrs:{placeholder:"苗圃"},model:{value:e.breedForm.breedArea.nursery,callback:function(t){e.$set(e.breedForm.breedArea,"nursery",t)},expression:"breedForm.breedArea.nursery"}},e._l(e.ZY_miaopu,function(e,t){return r("el-option",{key:t,attrs:{label:e.name,value:e.spaid}})}),1)],1),r("el-col",{attrs:{span:4}},[r("el-select",{attrs:{placeholder:"分区"},model:{value:e.breedForm.breedArea.partition,callback:function(t){e.$set(e.breedForm.breedArea,"partition",t)},expression:"breedForm.breedArea.partition"}},e._l(e.ZY_fenqu,function(e,t){return r("el-option",{key:t,attrs:{label:e.name,value:e.spaid}})}),1)],1),r("el-col",{attrs:{span:4}},[r("el-select",{attrs:{placeholder:"牌色"},model:{value:e.breedForm.signColor,callback:function(t){e.$set(e.breedForm,"signColor",t)},expression:"breedForm.signColor"}},e._l(e.signColorList,function(t,a){return r("el-option",{key:a,attrs:{label:t.label,value:t.value,color:t.color}},[r("span",[e._v(e._s(t.label))]),r("span",{staticClass:"colorCircle",style:{backgroundColor:t.color}})])}),1)],1),r("el-col",{attrs:{span:4}},[r("el-input",{attrs:{placeholder:"号码"},on:{blur:e.requestCZDA_debounce},model:{value:e.breedForm.signNumber,callback:function(t){e.$set(e.breedForm,"signNumber",t)},expression:"breedForm.signNumber"}})],1)],1),r("el-form-item",[r("el-col",{attrs:{span:4}},[r("span",{style:{marginLeft:"5px",fontSize:"13px"}},[e._v("回播区域")])]),r("el-col",{attrs:{span:4}},[r("el-select",{attrs:{disabled:"",placeholder:""},model:{value:e.sowForm.sowArea.firstArea,callback:function(t){e.$set(e.sowForm.sowArea,"firstArea",t)},expression:"sowForm.sowArea.firstArea"}},e._l(e.HB_quyu,function(e,t){return r("el-option",{key:t,attrs:{label:e.name,value:e.spaid}})}),1)],1),r("el-col",{attrs:{span:4}},[r("el-select",{attrs:{placeholder:"样线"},model:{value:e.sowForm.sowArea.line,callback:function(t){e.$set(e.sowForm.sowArea,"line",t)},expression:"sowForm.sowArea.line"}},e._l(e.HB_yangxian,function(e,t){return r("el-option",{key:t,attrs:{label:e.name,value:e.spaid}})}),1)],1),r("el-col",{attrs:{span:4}},[r("el-select",{attrs:{placeholder:"分段"},model:{value:e.sowForm.sowArea.segmentation,callback:function(t){e.$set(e.sowForm.sowArea,"segmentation",t)},expression:"sowForm.sowArea.segmentation"}},e._l(e.HB_fenduan,function(e,t){return r("el-option",{key:t,attrs:{label:e.name,value:e.spaid}})}),1)],1),r("el-col",{attrs:{span:4}},[r("el-select",{attrs:{placeholder:"牌色"},model:{value:e.sowForm.signColor,callback:function(t){e.$set(e.sowForm,"signColor",t)},expression:"sowForm.signColor"}},e._l(e.signColorList,function(t,a){return r("el-option",{key:a,attrs:{label:t.label,value:t.value,color:t.color}},[r("span",[e._v(e._s(t.label))]),r("span",{staticClass:"colorCircle",style:{backgroundColor:t.color}})])}),1)],1),r("el-col",{attrs:{span:4}},[r("el-input",{attrs:{placeholder:"号码"},model:{value:e.sowForm.signNumber,callback:function(t){e.$set(e.sowForm,"signNumber",t)},expression:"sowForm.signNumber"}})],1)],1)],1),r("el-form",{ref:"recordForm",attrs:{size:"mini"}},[r("el-form-item",[r("el-col",{attrs:{span:4}},[r("span",{style:{marginLeft:"15px"}},[e._v("状态")])]),r("el-col",{attrs:{span:20}},[r("el-select",{attrs:{placeholder:"请选择"},model:{value:e.recordForm.state,callback:function(t){e.$set(e.recordForm,"state",t)},expression:"recordForm.state"}},[r("el-option",{attrs:{label:"良好",value:"良好"}}),r("el-option",{attrs:{label:"部分白化",value:"部分白化"}}),r("el-option",{attrs:{label:"部分死亡",value:"部分死亡"}}),r("el-option",{attrs:{label:"死亡",value:"死亡"}}),r("el-option",{attrs:{label:"失踪",value:"失踪"}})],1)],1)],1),r("el-form-item",[r("el-col",{attrs:{span:5}},[r("span",{style:{marginLeft:"5px"}},[e._v("珊瑚颜色")])]),r("el-col",{attrs:{span:9}},[r("el-select",{attrs:{placeholder:"选择最浅颜色"},model:{value:e.recordForm.coralColor.shallowColor,callback:function(t){e.$set(e.recordForm.coralColor,"shallowColor",t)},expression:"recordForm.coralColor.shallowColor"}},e._l(e.colorList,function(t,a){return r("el-option",{key:a,attrs:{label:t.label,value:t.value}},[r("span",[e._v(e._s(t.label))]),r("span",{staticClass:"colorCircle",style:{backgroundColor:t.color}})])}),1)],1),r("el-col",{attrs:{span:1}},[e._v("  -")]),r("el-col",{attrs:{span:9}},[r("el-select",{attrs:{placeholder:"选择最深颜色"},model:{value:e.recordForm.coralColor.deepColor,callback:function(t){e.$set(e.recordForm.coralColor,"deepColor",t)},expression:"recordForm.coralColor.deepColor"}},e._l(e.colorList,function(t,a){return r("el-option",{key:a,attrs:{label:t.label,value:t.value}},[r("span",[e._v(e._s(t.label))]),r("span",{staticClass:"colorCircle",style:{backgroundColor:t.color}})])}),1)],1)],1),r("el-form-item",[r("el-input",{attrs:{type:"textarea",autosize:{minRows:8,maxRows:12},placeholder:"备注"},model:{value:e.recordForm.remark,callback:function(t){e.$set(e.recordForm,"remark",t)},expression:"recordForm.remark"}})],1)],1),r("div",{staticClass:"buttonArea"},[e.isCreated?r("el-button",{staticClass:"afterCreate",attrs:{type:"danger",round:""},on:{click:e.submitRecorder}},[e._v("录入首次回播数据")]):r("el-button",{staticClass:"afterCreate",attrs:{type:"danger",round:""},on:{click:e.submitEdit}},[e._v("修改首次回播数据")])],1)],1)},c=[],u=(r("7f7f"),r("ac4d"),r("8a81"),r("ac6a"),r("4eb9")),d=r("e050"),m=r("6d62"),p=r("18e6"),h=r("4ec3"),f={props:{sowData:Object,breedData:Object,recordData:Object,isCreated:Boolean},computed:Object(i["a"])({},Object(o["b"])({currentZD_data:"getCurrentZD_data",currentActivity_spaid:"getCurrentActivity_spaid"}),Object(o["d"])(["currentZD"])),watch:{"breedForm.breedArea.nursery":function(){var e=this;this.ZY_fenqu=[],this.breedForm.breedArea.partition="";var t=Object(m["h"])(d["q"],this.breedForm.breedArea.nursery,"MP");Object(h["i"])(t,"/tree/select").then(function(t){if(console.log(t),200===t.data.status)if(t.data.response){var r=!0,a=!1,s=void 0;try{for(var i,o=t.data.response.FQ.objects[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var l=i.value,n={};n.name=l.principle.ExtendData.name,n.spaid=l.principle.SpaId,e.ZY_fenqu.push(n)}}catch(c){a=!0,s=c}finally{try{r||null==o.return||o.return()}finally{if(a)throw s}}}else e.ZY_fenqu=[]})},"sowForm.sowArea.line":function(){var e=this;this.HB_fenduan=[],this.sowForm.sowArea.segmentation="";var t=Object(m["h"])(d["q"],this.sowForm.sowArea.line,"YX");Object(h["i"])(t,"/tree/select").then(function(t){if(console.log(t),200===t.data.status)if(t.data.response){var r=!0,a=!1,s=void 0;try{for(var i,o=t.data.response.FD.objects[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var l=i.value,n={};n.name=l.principle.ExtendData.name,n.spaid=l.principle.SpaId,e.HB_fenduan.push(n)}}catch(c){a=!0,s=c}finally{try{r||null==o.return||o.return()}finally{if(a)throw s}}}else e.HB_fenduan=[]})}},data:function(){return{signColorList:u["h"],colorList:u["c"],ZY_quyu:[],ZY_miaopu:[],ZY_fenqu:[],HB_quyu:[],HB_yangxian:[],HB_fenduan:[],file_spaid:"",record_spaid:"",sowForm:this.sowData,breedForm:this.breedData,recordForm:this.recordData}},methods:Object(i["a"])({},Object(o["c"])(["setOperateFile","setActivityFiles"]),{requestCZDA:function(){var e=this,t=Boolean(this.breedForm.breedArea.firstArea&&this.breedForm.breedArea.nursery&&this.breedForm.breedArea.partition&&this.breedForm.signColor&&this.breedForm.signNumber);if(console.log(t),t){var r=Object(m["f"])(d["c"],this.breedForm);Object(h["i"])(r,"/tree/select").then(function(t){console.log(t),200===t.data.status&&(t.data.response?e.file_spaid=t.data.response.CZDA.objects[0].principle.SpaId:e.$message({showClose:!0,message:"找不到残枝档案！",type:"error",duration:4e3}))})}else this.$message({showClose:!0,message:"残枝档案信息不完整！",type:"error",duration:4e3})},requestCZDA_debounce:Object(p["a"])(function(){this.requestCZDA()},1e3,!1),sendSpaid:function(){this.$emit("func",this.file_spaid,this.record_spaid)},submitRecorder:function(){var e=this,t=Object(m["d"])(d["l"],this.currentActivity_spaid,this.file_spaid,this.currentZD_data(this.currentZD).SpaId,this.$route.query.time,this.sowForm,this.recordForm);console.log(t),Object(h["i"])(t,"/tree/flow").then(function(t){console.log(t),200===t.data.status&&(e.record_spaid=t.data.response.CZJL.objects[0].principle.SpaId,e.sendSpaid(),e.$message({showClose:!0,message:"数据已成功录入！",type:"success"}),e.$router.push({path:"/manage/coralBreed/".concat(e.$route.query.activityType,"/success"),query:{time:e.$route.query.time,address:e.$route.query.address,activityType:e.$route.query.activityType}}))})},submitEdit:function(){this.$message({showClose:!0,message:"数据修改成功！",type:"success"}),this.$router.push({path:"/manage/coralBreed/".concat(this.$route.query.activityType,"/detail"),query:{time:this.$route.query.time,address:this.$route.query.address,activityType:this.$route.query.activityType}})},requestCJQU:function(){var e=this;this.breedForm.breedArea.firstArea=this.currentZD_data(this.currentZD).ExtendData.zyqy_spaid,this.ZY_quyu=[{name:"A",spaid:this.currentZD_data(this.currentZD).ExtendData.zyqy_spaid}],console.log(this.currentZD_data(this.currentZD).ExtendData.zyqy_spaid);var t=Object(m["h"])(d["q"],this.currentZD_data(this.currentZD).ExtendData.zyqy_spaid,"ZYQYROOT");Object(h["i"])(t,"/tree/select").then(function(t){if(console.log(t),200===t.data.status)if(t.data.response){var r=!0,a=!1,s=void 0;try{for(var i,o=t.data.response.MP.objects[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var l=i.value,n={};n.name=l.principle.ExtendData.name,n.spaid=l.principle.SpaId,e.ZY_miaopu.push(n)}}catch(c){a=!0,s=c}finally{try{r||null==o.return||o.return()}finally{if(a)throw s}}}else e.ZY_miaopu=[]})},requestHBQY:function(){var e=this;this.sowForm.sowArea.firstArea=this.currentZD_data(this.currentZD).ExtendData.hbqy_spaid,this.HB_quyu=[{name:"A",spaid:this.currentZD_data(this.currentZD).ExtendData.hbqy_spaid}],console.log(this.currentZD_data(this.currentZD).ExtendData.hbqy_spaid);var t=Object(m["h"])(d["q"],this.currentZD_data(this.currentZD).ExtendData.hbqy_spaid,"HBQYROOT");Object(h["i"])(t,"/tree/select").then(function(t){if(console.log(t),200===t.data.status)if(t.data.response){var r=!0,a=!1,s=void 0;try{for(var i,o=t.data.response.YX.objects[Symbol.iterator]();!(r=(i=o.next()).done);r=!0){var l=i.value,n={};n.name=l.principle.ExtendData.name,n.spaid=l.principle.SpaId,e.HB_yangxian.push(n)}}catch(c){a=!0,s=c}finally{try{r||null==o.return||o.return()}finally{if(a)throw s}}}else e.HB_yangxian=[]})}}),mounted:function(){this.requestCJQU(),this.requestHBQY()}},g=f,b=(r("fab6"),r("1319"),r("2877")),v=Object(b["a"])(g,n,c,!1,null,"b8af9782",null),y=v.exports,_=r("91b0"),w=r("731e"),C=r("9dac"),x={components:{"file-list":l["a"],"activity-form":y,"picture-swiper":_["a"],"upload-border":w["a"],"up-load":C["a"]},data:function(){return{sowData:{signColor:"",signNumber:"",sowArea:{firstArea:"",line:"",segmentation:""}},breedData:{signColor:"",signNumber:"",breedArea:{firstArea:"",nursery:"",partition:""}},recordData:{state:"",penetrability:"",temperature:"",coralColor:{shallowColor:"",deepColor:""},remark:""},imgUrl:[{url:"http://dayy.xyz/resource/example/1.png",size:"223.4",time:"2018.4.10",name:"A1-大鹏大澳湾-2018090410-01"},{url:"http://dayy.xyz/resource/example/2.jpg",size:"235.6",time:"2018.5.09",name:"A2-大鹏大澳湾-2018050909-01"},{url:"http://dayy.xyz/resource/example/3.jpg",size:"240.2",time:"2018.6.09",name:"A2-大鹏大澳湾-2018060910-01"}],isCreated:!0,imgUrlFormSwiper:""}},computed:Object(i["a"])({},Object(o["b"])({activityNum:"getNowDivingActivity",activityFiles:"getActivityFiles"}),Object(o["d"])(["operateFile"])),methods:{chooseSwiperImg:function(e){this.imgUrlFormSwiper=e},setIsCreated:function(e){this.isCreated=e},setData:function(e){this.recordData=e}},mounted:function(){},beforeRouteEnter:function(e,t,r){console.log(e.params.recordData),"create"===e.params.build?r():"edit"===e.params.build?r(function(t){t.setData(e.params.recordData),t.setIsCreated(!1)}):r()}},F=x,A=(r("4bb2"),Object(b["a"])(F,a,s,!1,null,"42144000",null));t["default"]=A.exports},"18e6":function(e,t,r){"use strict";function a(e,t,r){var a;return function(){var s=this,i=arguments;if(a&&clearTimeout(a),r){var o=!a;a=setTimeout(function(){a=null},t),o&&e.apply(s,i)}else a=setTimeout(function(){e.apply(s,i)},t)}}r.d(t,"a",function(){return a})},"44c5":function(e,t,r){},"4bb2":function(e,t,r){"use strict";var a=r("14c5"),s=r.n(a);s.a},"4c2f":function(e,t,r){},"5f3a":function(e,t,r){},"65aa":function(e,t,r){},"731e":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"borderRoot"},[r("el-row",{attrs:{gutter:0}},[r("el-col",{style:{borderTop:"1px solid lightgray",borderLeft:"1px solid lightgray"},attrs:{span:2}},[r("div",{style:{textAlign:"center"}},[e._v("B1")])]),e._l(e.colorList.B_color,function(t,a){return r("el-col",{key:a,style:{borderTop:"1px solid lightgray"},attrs:{span:4}},[r("div",{style:{background:t.color,textAlign:"center",color:"white"}},[e._v(e._s(t.name))])])}),r("el-col",{style:{borderTop:"1px solid lightgray",borderRight:"1px solid lightgray"},attrs:{span:2}},[r("div",{style:{textAlign:"center"}},[e._v("C1")])])],2),r("el-row",{attrs:{gutter:0}},[r("el-col",{attrs:{span:1}},e._l(e.reverseE_color,function(t,a){return r("div",{key:a,style:{width:"100%",height:"6vw",background:t.color,textAlign:"center",lineHeight:"6vw",color:"white",borderLeft:"1px solid lightgray"}},[e._v(e._s(t.name))])}),0),r("el-col",{attrs:{span:22}},[r("div",{style:{width:"100%",height:"30vw"}},[e._t("default")],2)]),r("el-col",{attrs:{span:1}},e._l(e.colorList.C_color,function(t,a){return r("div",{key:a,style:{width:"100%",height:"6vw",background:t.color,textAlign:"center",lineHeight:"6vw",color:"white",borderRight:"1px solid lightgray"}},[e._v(e._s(t.name))])}),0)],1),r("el-row",{attrs:{gutter:0}},[r("el-col",{attrs:{span:2}},[r("div",{style:{textAlign:"center",borderLeft:"1px solid lightgray",borderBottom:"1px solid lightgray"}},[e._v("E1")])]),e._l(e.reverseD_color,function(t,a){return r("el-col",{key:a,attrs:{span:4}},[r("div",{style:{background:t.color,textAlign:"center",color:"white",borderBottom:"1px solid lightgray"}},[e._v(e._s(t.name))])])}),r("el-col",{attrs:{span:2}},[r("div",{style:{textAlign:"center",borderRight:"1px solid lightgray",borderBottom:"1px solid lightgray"}},[e._v("D1")])])],2)],1)},s=[],i={B_color:[{color:"#E1EAAE",name:"B2"},{color:"#C1DA83",name:"B3"},{color:"#899D52",name:"B4"},{color:"#586832",name:"B5"},{color:"#223017",name:"B6"}],C_color:[{color:"#F9D2BC",name:"C2"},{color:"#F1915E",name:"C3"},{color:"#D86430",name:"C4"},{color:"#8A3820",name:"C5"},{color:"#510D0C",name:"C6"}],D_color:[{color:"#F7DA9F",name:"D2"},{color:"#F2A04C",name:"D3"},{color:"#CC7D3F",name:"D4"},{color:"#8F4124",name:"D5"},{color:"#73381C",name:"D6"}],E_color:[{color:"#4C200E",name:"E2"},{color:"#764922",name:"E3"},{color:"#AC913D",name:"E4"},{color:"#E2C96F",name:"E5"},{color:"#EEEDA4",name:"E6"}]},o={data:function(){return{colorList:i}},computed:{reverseD_color:function(){return i.D_color.reverse()},reverseE_color:function(){return i.E_color.reverse()}},methods:{}},l=o,n=r("2877"),c=Object(n["a"])(l,a,s,!1,null,"132cc87b",null);t["a"]=c.exports},"8e96":function(e,t,r){},"91b0":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{style:"width:"+e.imgWidth*e.num+"vw; height:"+e.imgHeight+"vh",attrs:{id:"container"}},[r("div",{style:"left:0px;width:"+e.imgWidth*(e.imgUrl.length+1)+"vw;height:"+e.imgHeight+"vh",attrs:{id:"list"}},e._l(e.imgUrl,function(t,a){return r("div",{key:a,staticClass:"img-swiper",style:"width:"+e.imgWidth,on:{click:function(t){return e.selectOneImg(a)}}},[r("img",{style:"width:"+e.imgWidth+"vw;height:"+e.imgHeight+"vh;",attrs:{src:t.url}}),r("span",{staticClass:"img-name",style:"width:"+e.imgWidth+"vw;bottom:0"},[e._v(e._s(t.name))]),r("span",{staticClass:"delete-img el-icon-close",on:{click:e.deleteImg}})])}),0),r("div",{staticClass:"arrow",style:"width:"+e.imgWidth/5+"vw;height:"+e.imgHeight+"vh",attrs:{id:"prev"},on:{click:e.prevOnclick}},[r("span",{staticClass:"el-icon-arrow-left"})]),r("div",{staticClass:"arrow",style:"height:"+e.imgHeight+"vh",attrs:{id:"next"},on:{click:e.nextOnclick}},[r("span",{staticClass:"el-icon-arrow-right"})])])},s=[],i=(r("c5f6"),{name:"swiperper",props:{imgHeight:Number,imgWidth:Number,imgUrl:Array},data:function(){return{list:null,index:0,allImg:null,num:4,signImgUrl:""}},components:{},mounted:function(){this.list=document.getElementById("list"),this.allImg=document.getElementsByClassName("img-swiper"),this.allImg[this.index]&&(this.allImg[this.index].classList.add("current-img"),this.imgLen=this.imgUrl.length-1,this.selectOneImg(this.index))},methods:{move:function(e){if(0==this.index)this.list.style.left="0vw";else if(this.index>this.imgLen-this.num)this.list.style.left=-this.imgWidth*(this.imgUrl.length-this.num+1)+"vw";else{var t=parseInt(this.list.style.left)+e;this.list.style.left=t+"vw"}},prevOnclick:function(){this.allImg[this.index].classList.remove("current-img"),this.index=this.index>0?this.index-1:0,this.allImg[this.index].classList.add("current-img"),this.move(this.imgWidth),this.selectOneImg(this.index)},nextOnclick:function(){this.allImg[this.index].classList.remove("current-img"),this.index=this.index<this.imgLen?this.index+1:this.imgLen,this.allImg[this.index].classList.add("current-img"),this.move(-this.imgWidth),this.selectOneImg(this.index)},selectOneImg:function(e){this.allImg[this.index].classList.remove("current-img"),this.index=e,this.allImg[this.index].classList.add("current-img"),this.$emit("selectOneImg",this.imgUrl[e].url)},deleteImg:function(){}}}),o=i,l=(r("0e17"),r("2877")),n=Object(l["a"])(o,a,s,!1,null,"36928356",null);t["a"]=n.exports},"9dac":function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{directives:[{name:"show",rawName:"v-show",value:e.uploadVisiable,expression:"uploadVisiable"}],staticClass:"uploadRoot",attrs:{closable:!1}},[r("el-upload",{staticClass:"avatar-upload",attrs:{drag:"",multiple:"",action:"","http-request":e.uploadProcess}},[r("i",{staticClass:"el-icon-plus"}),r("div",[e._v("\n      批量上传图片，\n      "),r("span",{staticClass:"em"},[e._v("点击上传")])])])],1)},s=[],i=(r("7f7f"),r("28a5"),r("cebc")),o=r("2f62"),l=r("4ec3"),n=r("4eb9"),c=r("5c96"),u=(r("e050"),{name:"Upload",computed:Object(i["a"])({},Object(o["d"])(["uploadVisiable"])),props:["masterid","czda_spaid"],data:function(){return{}},methods:{uploadProcess:function(e){var t={url:"",objectName:"",file_id:"",fileExtension:"",currentUserId:""};this.beforeUpload(e,t)},beforeUpload:function(e,t){t.fileExtension=e.file.name.split(".")[e.file.name.split(".").length-1],this.policy(e,t)},policy:function(e,t){var r=this,a=JSON.stringify({ext:t.fileExtension});console.log(t.objectName),$.ajax({type:"post",url:l["g"]+"/file/upload",data:a,async:!1,contentType:"application/json",xhrFields:{withCredentials:!1},crossDomain:!0,success:function(a){if(a.response){t.url=a.response.url,console.log(t.url);var s=t.url.split("/");t.objectName="";for(var i=4;i<s.length-1;i++)t.objectName+=s[i]+"/";t.file_id=s[s.length-1].split("?")[0],t.objectName+=t.file_id,console.log(t.file_id,t.objectName),r.uploadFile(e,t)}}})},uploadFile:function(e,t){var r=this,a=e.file,s=new XMLHttpRequest;s.upload.addEventListener("progress",function(t){var r=Math.round(100*t.loaded/t.total);r>50&&(r-=2),e.onProgress({percent:r})},!1),s.open("PUT",t.url,!0),s.send(a),s.onload=function(){200==s.status?(e.onSuccess("上传成功"),r.afterUpload(e,t)):r.handleError()}},afterUpload:function(e,t){e.file;console.log(t.file_id)},close:function(){},handleError:function(e){console.log(e),c["Message"].warning(n["e"])}}}),d=u,m=(r("018b"),r("082b"),r("2877")),p=Object(m["a"])(d,a,s,!1,null,"e39b5b12",null);t["a"]=p.exports},a2be4:function(e,t,r){"use strict";var a=r("8e96"),s=r.n(a);s.a},b29f:function(e,t,r){},e1ba:function(e,t,r){"use strict";var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"listRoot"},e._l(e.fileNameList,function(t,a){return r("div",{key:a,staticClass:"listItem",class:e.activeFile===t?"activeItem":"",on:{click:function(r){return e.findFile(t)}}},[e._v(e._s(t))])}),0)},s=[],i={props:{fileNameList:{type:Array,default:function(){return["A-宇宙号-1区-蓝-07","A-宇宙号-1区-蓝-10"]}}},data:function(){return{activeFile:""}},methods:{findFile:function(e){this.activeFile=e,console.log(e)}},mounted:function(){this.activeFile=this.$route.query.file}},o=i,l=(r("a2be4"),r("2877")),n=Object(l["a"])(o,a,s,!1,null,"0c4e4a36",null);t["a"]=n.exports},fab6:function(e,t,r){"use strict";var a=r("65aa"),s=r.n(a);s.a}}]);
//# sourceMappingURL=chunk-18f1a0c4.64990be6.js.map