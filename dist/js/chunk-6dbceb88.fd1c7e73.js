(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6dbceb88"],{"02e7":function(t,e,i){"use strict";var s=i("38a8"),o=i.n(s);o.a},"104d":function(t,e,i){t.exports=i.p+"img/makingImage.1f4b5b69.svg"},"11f8":function(t,e,i){t.exports=i.p+"img/imageF.9ddf77a4.svg"},2199:function(t,e,i){t.exports=i.p+"img/file_music.65284c7f.svg"},"240e":function(t,e,i){"use strict";var s=i("9d9a"),o=i.n(s);o.a},"268f":function(t,e,i){t.exports=i("fde4")},"28a6":function(t,e,i){"use strict";var s=i("bb4b"),o=i.n(s);o.a},3002:function(t,e,i){"use strict";var s=i("dc18"),o=i.n(s);o.a},3076:function(t,e,i){},"32a6":function(t,e,i){var s=i("241e"),o=i("c3a1");i("ce7e")("keys",function(){return function(t){return o(s(t))}})},"336c":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAAL1klEQVR4Xu2de5AcVRXGv9ObjWyAELDAVEQxhOz0YAAN8igR5RkfEAERKKBKRCqmhDxmFiOmoKj4QiIyM9mEAgQUwaLkoQJCURQWEYFEVMACzPTsArEMRHwgiQmPkJ35rN4ksMJ039s9PTO9O6f/SVX6nHPPPd9vb/f0vd1XoEdHV0A6uvfaeSgAHQ6BAqAAdHgFOrz7OgIoAO2rQHGQM6WGGbmM3NS+LDq75baNAL74GMIDItgdgi8rBO0BsS0AjBB/j+3dpkLQIQDUEX9HzxWCNjDQ0hEgRHyFoA3i+022DAAL8beVgHh8iovDTheptqkmHdVsSwCwFZ/EE9wFx/d9QP7TUSq0sbNNB0DFb6O6Fk03FQAV30KBNps0DQBb8QF4tZ1xhA777SGhKQBEEb/7PTj6gqnyUnu6r60mDsDyCt2hGh4VwY6HPEFV9lT89gOYKAC++NUaVkIw2dA1Fb/92g9nkBgAKn5KFI2YRiIAqPgRq54i84YBUPFTpGaMVBoCQMWPUfGUucQGQMVPmZIx04kFgIofs9opdIsMgIqfQhUbSCkSAMU1nCmCe/V3fgMVT5mrNQC++BD8XgTd+pAnZSo2kI4VALbiE/i3ED8lsLmBnNLjKtgqwCYS//X/FQcbSLyQc6WSniQby8QIQH+Fh1ZreMTiL7+xTEabN7EGQJmCNST+iF3w6Gic0QwFYLv4/sTOuNGmT5vyXQvisRqwcqcJuP38feSVNuVh3WwgALeRXes9bIRgZ1M0JjmpYGpslJwnMQTgQQhundCNX8ydJhvTmHroCFDyuIjED8R4ofDXciY4s5TGSjWW0xYCN9PB9/t65fnGQiXrbZRWIUiu4ARqQvzKGYfvLZguTyYXOX4kIwB+aIUgfoFDPG/vAnLzXVnflOiWQa0AiAQB4UFwB4mxsK5//PC7i8QkCCaR2EuAqfD/L4GDwOsQXJLPSCGBcLFCWAPwFgTA5QI4oa0RDzjjMHvBdNkSK6uUOy31uGuPYN8acQCAYwjMEuD9cdMm8RcAc/JZWR03Rly/SAD4jRQ9fgXAdZ0OwTsLXniW+zlVzCZxqgBHxBGEguVDu2Hxosnyahz/OD6RAVAIzGW+ai0nD23BGQTmA5hm9njbgsCLQpyXy8r9Ufzi2sYCQCGwK/cS0pk0gNNILBbgIDuvt6yWLsxgsYj4v7CbdsQGQCGIpkmxwpNRwxUi2C+C5909E3Hm3CnyWgSfSKYNAaAQRKo1lpDjdqtgnhCXWv+SIJ5xxuGzC6bLC9Fas7NuGACFwK7QI61WlPneIaAAwZesvImXIDiqGbOQiQCwAwIBbjB2aIz/RDT2f4RBoczZjgzXbE+jX5MgSAyA7RDkBChadGZMPycw9n8kBOu4h2zGTSI4weTnr7dgF47qmy7+c4NEjkQBUAjia1Iq81sQXGoR4V81B4cnNamUOABRIeiu4gsXzJCxsYLIQr0wk+IAT0AVt4ppCp4Y3CI4+CJXNjXYZHLvBr4zkaJHu8sBsKp7CJ9WCLZVsL/Cg2rbXrANnW8g8dBGF8csEak1AkFTRoAdCSkE8aTpH+T+1SpWCrCXIcI1OVe+Fq+VbV5NBSDS5UBHgv/TcXhuYSseNi3Bp4MT871yb1wImg6AQhBXGqBQ5gECrA69JyD+sXV3TIs7gdQSAPwSLPO4kEDJWA7id7msfMpo1yEGhQEeJzXcHzb7SuD6vCtz4pSkZQDYjATDS6YEZ+UycmuczoxVn2KFFwixIqx/Ahyz0JWVUWvQUgCMEAi+msvIdVE70Qn2RY93CnBSYF+JZxa6ODDq7GHLAQiCgMSifFZ+2AlixuljcS0nyRYMhD02JnBe3pUfR4nfFgDeBYFgcS4jl0dJvBNtC2XOcgSBC0UI/LOrCx+MshSvbQCMgGByzpVvdqKgcfpc8vhzAGeEXAouzmXlMtvYbQXANkm1e7sCK57nPkNbMIigt7SJl6e4eJ/t19YVgFFIV9FjSYCFQakLcfbCrNxi0zUFwKZKKbPxF5RsFawToCcgtUdyrhxpk7YCYFOlFNoUK+wXDq86rns4Xfjwguniv8IeeigApgql9Pxyj1OrwHMh8zlLbW6uFYCUCmyTVtjDIQJP51050BRHATBVKMXnl1V4ColfBqVYE+zdl5EXw7qgAKRYYFNqhXXskc3YIILx9WxrxNy+rPxIATBVchSfL5Z5T9CCUgJ35F05TQEYxQKbUi+VOReCawLsnsu5Evomkl4CTBVO+fnhDbireDwozZ6J2Dns1TIFIOUCm9K7lux+rYI3AheMODg81yuPBcVRAEwVHgXnSx49AJm6qRrWWCgAo0BgU4pFj7cL8MUAAC7LZeRiHQFMVRzF54tlXimCvnpdMK0X1BFgFAu/I/VimV8XwRUBANyVd+VkHQHGgNBBXSh6PFuAnwWcX5VzJfCbRToCjAEwlnk8mv5naescJAbyWal/g9iKN4PGQH1T34VlFR5L4jcBiVZyrrh6CUi9jPETDJsUIvCnvCuHKADx65t6z2UVnkPixoCbwAfzrhyrAKRexvgJFsucL4L+gAh35lw5RQGIX9/Ue5Y8+p/lyQU8CLoxl5FzFYDUyxg/wWKZ94tgVt0IROh7AvozMH7dU+NZ8rgOwN517wEcnJrvlcBVQwpAamSMl0j/ICfWqgjcjsa0OlgBiFf31Hj5n6D1dyEJSKi6IYPxYd8RUgBSI2W8REplLodgXsD1/8lcVmaGRVYA4tU9NV5Fj2sEyNa9/hOFfFYuVABSI1eyiRQGuK9TG345pP5BzM5l5R4FINm6pyZayeN3AFwSJH/PROxi+tS8XgJSI2f0RIoeXwjaq4jE6nxWPm6KqgCYKpTS88s8fobAfSHD//xcVkI/LOX7KgApFdiUVsmjP/1bf5KH2NozHnvabFerAJgqncLz/YP8aK2KJ4Lv/RC6DGyknwKQQoFNKZU8+g9+Atf5UXBKPiN3muLoJcCmQimzKVV4CIg/BP71G5aAvdNPR4CUCWxKp1Tm0xDMCAHg3HxW6i4OqeejAJgqnqLzpTLnQbA85M7/b1Nc7Gv7hTC9BKRIXFMq/YPcuzoEL+zL4RTMyWfkelMsvQmMUqEU2N5Gdq338BgEB4f89a/Z4OKAqDuI6CUgBQKbUiiV6e8xmA+zqwk+2ZeRh02x9CYwaoXabF/weLoDmD6fH7rwM6wLOgK0WeCw5v3NIpwaHjCk+EYXsP98V9bG6YoCEKdqLfApePyYQzwEwYSw5uLc+OlNYAsEbKSJ0gAPQxX3GbeOA27Ou2K3/3BAQjoCNKJUE3y3z/L5j3p3Cv3LB8obh/CRJTPkzUbSUAAaqV7CvqUK54AI/a6f3+TwHsIODkti+1gFIGER44S7dj0nvL4RV9tsJ09gkwCfyLnyVJy29GdgElVLMIa/S2itirsBTDOFJeEP90fls7LaZGt7XkcA20o1wc6wpu9dLdaIz/dl5ddJpqIAJFlNy1iFCo90iJ/Y/NUPX/OJVwGcmM/Kby2bsDZTAKxL1bjh9pU83wXwOetoxMvswnH5XvmztU8EQwUgQrHimhYqPNSp4RsQnBoxhlclTrowK/5+gU05FICmlBW4ssxeBzgLwJki6I3YDEFctdtOWHTuVHkjom8kcwUgUrmCjZd63HW84FghjidxXAzRtwUnXqLg7Lwrdb/6lVC6b4VJFQDbFz2Eft486QJYx3MwCcSHRlTur6jBz3WmAAdBsL91rGDDW8b3YN75+8grCcSyCpEqAIoV9glxpVXmLTZiE1+iIPF36cI5uV4xzfwl3msFIPGSRghIbKbgmjeBb1/kyqYInomZKgCWpUxyBCDxrAiWb52EGxZNFv83ftsOBaCFpSdwFxxcl++Ve1vYbGhTCoClEnFHAH9LdxA31Lpx9YX7if8xp1QdCoClHLYAEHhegFUQrKZg1cbpeCrqSl3LlBIxUwCilNGnYNt8PETgEVgrhAcHZRJrJnTjGZs3cqM02WzbVAHQ7M5q/HdXQAHocCoUAAWgwyvQ4d3XEUAB6PAKdHj3dQTocAD+B7cgP73tPIZeAAAAAElFTkSuQmCC"},"38a8":function(t,e,i){},"3b0e":function(t,e,i){t.exports=i.p+"img/file_txt.00ba9625.svg"},4610:function(t,e,i){t.exports=i.p+"img/file_ppt_office.8a2a683b.svg"},"463f":function(t,e,i){t.exports=i.p+"img/file_zip.0fa5d7ad.svg"},"4eb9":function(t,e,i){"use strict";i.d(e,"b",function(){return s}),i.d(e,"l",function(){return o}),i.d(e,"h",function(){return a}),i.d(e,"k",function(){return n}),i.d(e,"j",function(){return r}),i.d(e,"n",function(){return c}),i.d(e,"m",function(){return l}),i.d(e,"f",function(){return d}),i.d(e,"e",function(){return u}),i.d(e,"d",function(){return p}),i.d(e,"i",function(){return h}),i.d(e,"o",function(){return g}),i.d(e,"g",function(){return m}),i.d(e,"p",function(){return f}),i.d(e,"q",function(){return v}),i.d(e,"a",function(){return w}),i.d(e,"c",function(){return y});var s=[{title:"B-蓝1",value:1},{title:"B-蓝2",value:2},{title:"B-蓝13",value:3},{title:"B-绿23",value:4},{title:"B-绿25",value:1},{title:"B-绿26",value:2},{title:"B-绿27",value:3},{title:"B-蓝1",value:1},{title:"B-蓝2",value:2},{title:"B-蓝13",value:3},{title:"B-绿23",value:4},{title:"B-绿25",value:1},{title:"B-绿26",value:2},{title:"B-绿27",value:3},{title:"B-绿29",value:4}],o=[{id:1,title:"苗圃1"},{id:2,title:"苗圃2"},{id:3,title:"苗圃3"},{id:4,title:"苗圃4"},{id:5,title:"苗圃5"}],a=[{id:1,title:"分区1"},{id:2,title:"分区2"},{id:3,title:"分区3"},{id:4,title:"分区4"},{id:5,title:"分区5"}],n=[{id:1,title:"B-201908101634-23"},{id:2,title:"B-201908191634-23"},{id:3,title:"B-201909031634-23"},{id:4,title:"B-201909151634-23"},{id:5,title:"B-201910101634-23"},{id:1,title:"B-201908101634-23"},{id:2,title:"B-201908191634-23"},{id:3,title:"B-201909031634-23"},{id:4,title:"B-201909151634-23"},{id:5,title:"B-201910101634-23"},{id:1,title:"B-201908101634-23"},{id:2,title:"B-201908191634-23"},{id:3,title:"B-201909031634-23"},{id:4,title:"B-201909151634-23"},{id:5,title:"B-201910101634-23"},{id:1,title:"B-201908101634-23"},{id:2,title:"B-201908191634-23"},{id:3,title:"B-201909031634-23"},{id:4,title:"B-201909151634-23"},{id:5,title:"B-201910101634-23"}],r=[{permission:"",groupInfo:{group_id:"",group_name:"",group_desc:"",creator_id:"",created_at:"",personal:0}}],c={100:"可读","010":"可写",110:"可读可写"},l=[{user_id:"e1f5f562-2e96-4b3e-a6ff-e3f953c5b368",work_no:"0001",username:"张三"}],d=[{id:"573d9b62-9e07-430c-b2a0-4825fbccc785",title:"返回",thumbnail_url:i("336c"),resource_type:"doc",creator:"",created_time:""}],u={title:"",created_time:""},p={id:null,title:"",thumbnail_url:i("336c"),type:"dir",creator:"",created_time:""},h={id:"image_10432347",title:"默认",desc:"#######################",creator:"green",doc_id:"1",type:"image",ext:"jpg",size:1024,categories:[0,1,6],tags:[6,133,137,2552,2697,2998,22409,24310],store_key:"http://douban-test.oss-cn-beijing.aliyuncs.com/img/10432347.jpeg",thumbnail_url:"http://douban-test.oss-cn-beijing.aliyuncs.com/img/10432347.jpeg",derived_files:[],created_time:"2017-07-01 21:34:16",modified_time:"2017-07-06 21:34:16",version:0,original_id:"10432347",parent_id:null},g=[{id:137,title:"算法",desc:"......"}],m=[{key:"jpg",doc_count:50},{key:"png",doc_count:30},{key:"gif",doc_count:20}],f=[{key:"全部",doc_count:100},{key:"三天内",doc_count:6},{key:"一周内",doc_count:15},{key:"一个月内",doc_count:23},{key:"三个月内",doc_count:25},{key:"半年内",doc_count:27},{key:"一年内",doc_count:50},{key:"一年前",doc_count:50}],v=[{value:"全部",command:"all"},{value:"图片",command:"image"},{value:"文档",command:"doc"},{value:"视频",command:"video"},{value:"音频",command:"audio"},{value:"其他文件",command:"others"},{value:"全文搜索",command:"doc_content"}],w=[{id:6,title:"科技"},{id:1,title:"文学"},{id:2,title:"流行"},{id:3,title:"文化"},{id:4,title:"生活"},{id:5,title:"经管"}],y="好像网络有点问题呢"},"52d6":function(t,e,i){t.exports=i.p+"img/toRight.58c397aa.svg"},"85f2":function(t,e,i){t.exports=i("454f")},"86cf":function(t,e,i){t.exports=i.p+"img/file_code.f0be3f2a.svg"},"87d4":function(t,e,i){t.exports=i.p+"img/file.619f325c.png"},"8aae":function(t,e,i){i("32a6"),t.exports=i("584a").Object.keys},"94b4":function(t,e,i){t.exports=i.p+"img/file_excel_office.f37ec010.svg"},"98d4":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:t.isUseIframe,expression:"isUseIframe"}],staticClass:"iframeWin"},[i("div",{staticStyle:{position:"fixed",margin:"70px 0 0 0",right:"0px"}},[i("el-button",{on:{click:function(e){t.isUseIframe=!1}}},[t._v("退出")])],1),i("iframe",{style:t.showAreasizeIframe,attrs:{src:t.yuLanSrc}},[i("p",[t._v("您的浏览器不支持 iframe 标签。")])])]),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isUseIframe,expression:"!isUseIframe"}],on:{click:t.stopEditName}},[i("div",{staticClass:"doc-left",style:t.docLeft},[i("div",{staticStyle:{"background-color":"white","z-index":"2",left:"200px"}},[i("div",{staticStyle:{height:"50px","margin-top":"10px"}},[t.isCurrentFileLayout?t._e():i("div",{staticStyle:{float:"left"}},[i("el-button",{on:{click:function(e){return e.stopPropagation(),t.newResource("dir")}}},[i("span",{staticClass:"el-icon-tickets"}),t._v("\n              新建目录\n            ")]),i("el-button",{staticStyle:{position:"relative"},attrs:{type:"primary"},on:{click:function(e){return e.stopPropagation(),t.newResource("doc")}}},[i("span",{staticClass:"el-icon-folder-add"}),t._v("\n              新建文档\n            ")]),i("el-button-group",{directives:[{name:"show",rawName:"v-show",value:t.currentItemClicked>0,expression:"currentItemClicked > 0"}],staticStyle:{"margin-left":"10px"}},[i("el-button",{on:{click:function(e){return e.stopPropagation(),t.callChangeName(e)}}},[t._v("重命名")]),i("el-button",{on:{click:function(e){return e.stopPropagation(),t.resourceDelete(e)}}},[t._v("删除")]),i("el-button",{on:{click:function(e){return e.stopPropagation(),t.callGroup(e)}}},[t._v("权限和群组")])],1)],1),t.isCurrentFileLayout?i("div",{staticStyle:{float:"left"}},[i("el-button",{staticStyle:{position:"relative"},attrs:{type:"primary",icon:"el-icon-document-add"},on:{click:function(e){return e.stopPropagation(),t.callUpload(e)}}},[t._v("上传")]),i("el-button-group",{directives:[{name:"show",rawName:"v-show",value:t.currentItemClicked>0,expression:"currentItemClicked > 0"}],staticStyle:{"margin-left":"10px"}},[i("el-button",{on:{click:function(e){return e.stopPropagation(),t.downloadFile(e)}}},[t._v("下载")]),i("el-button",{on:{click:function(e){return e.stopPropagation(),t.callChangeName(e)}}},[t._v("重命名")]),i("el-button",{on:{click:function(e){return e.stopPropagation(),t.deleteFile(e)}}},[t._v("删除")])],1)],1):t._e()]),i("div",{staticStyle:{height:"40px"}},[i("el-breadcrumb",{staticClass:"breadcrumb_route",staticStyle:{float:"left"},attrs:{"separator-class":"el-icon-arrow-right"}},t._l(t.path,function(e,s){return i("el-breadcrumb-item",{key:s,nativeOn:{click:function(e){return e.stopPropagation(),t.turnToPast(s)}}},[t._v(t._s(e.title))])}),1),i("div",{staticStyle:{float:"right"}},[i("el-button",{attrs:{size:"mini",type:"success",icon:"el-icon-refresh",circle:""},on:{click:t.refreshResource}})],1),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isList,expression:"!isList"}],staticStyle:{float:"right","margin-right":"2%"}},[i("el-dropdown",{on:{command:t.chooseSize}},[i("el-button",{attrs:{size:"mini"}},[t._v("\n                "+t._s(t.sizeText)+"\n                "),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{command:"small"}},[t._v("小图标")]),i("el-dropdown-item",{attrs:{command:"medium"}},[t._v("中图标")]),i("el-dropdown-item",{attrs:{command:"big"}},[t._v("大图标")])],1)],1)],1),i("div",{staticStyle:{float:"right","margin-right":"2%"}},[i("el-dropdown",{on:{command:t.chooseSort}},[i("el-button",{attrs:{size:"mini"}},[t._v("\n                排列方式\n                "),i("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[i("el-dropdown-item",{attrs:{command:"created_time"}},[t._v("创建时间")]),t.isCurrentFileLayout?i("el-dropdown-item",{attrs:{command:"modified_time"}},[t._v("更新时间")]):t._e(),t.isCurrentFileLayout?i("el-dropdown-item",{attrs:{command:"size"}},[t._v("文件大小")]):t._e(),i("el-dropdown-item",{attrs:{command:"title"}},[t._v("名字")]),i("el-dropdown-item",{attrs:{command:"refreshResource"}},[t._v("默认")])],1)],1)],1),i("div",{staticStyle:{float:"right","margin-right":"2%"}},[i("el-button",{attrs:{size:"mini"},on:{click:function(e){t.isList=!t.isList}}},[i("span",[i("a",{class:t.isList?"el-icon-notebook-2":"el-icon-menu"})]),i("span",[t._v("切换视图")])])],1)],1)]),i("div",{staticClass:"MyDivider"}),t.isList?t._e():i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.cardLoading,expression:"cardLoading"}],staticStyle:{display:"flex","justify-content":"flex-start",margin:"20px 0","flex-wrap":"wrap",overflow:"auto"},style:t.showAreasize,attrs:{"element-loading-spinner":"el-icon-loading","element-loading-text":"加载中 请稍后"}},t._l(t.docList,function(e,s){return i("resource-card",{key:s,staticClass:"document_card",class:{item_clicked:t.currentItemClicked===s,dc:!e.isEditStatus},style:t.styleObject,attrs:{shadow:"always",doc:e,index:s,styleCardImage:t.styleCardImages},nativeOn:{click:function(e){e.stopPropagation(),t.menuShow=!1,t.clickReady&&t.itemClicked(s)},dblclick:function(e){e.stopPropagation(),t.clickReady&&t.itemDBClicked(s)},contextmenu:function(e){e.stopPropagation(),t.clickReady&&t.itemClicked(s)},mouseenter:function(e){return e.stopPropagation(),t.mounseMove(s)},mouseleave:function(e){return e.stopPropagation(),t.mounseMove(s)}}})}),1),t.isList?i("div",{staticStyle:{"justify-content":"flex-start","flex-wrap":"wrap","z-index":"1",position:"relative",overflow:"auto"}},[i("el-row",{attrs:{height:"39"}},[i("el-col",{staticStyle:{"text-align":"left"},attrs:{span:1}},[i("span",[t._v(" ")])]),i("el-col",{staticStyle:{"text-align":"left"},attrs:{span:1}},[i("el-button",{attrs:{type:"text"}},[i("span",{staticStyle:{color:"#2c3e50"}},[t._v("资源")])])],1),i("el-col",{staticClass:"sortAttribute",attrs:{span:4}},[i("el-button",{attrs:{type:"text"},on:{click:function(e){return t.chooseSort("title")}}},[i("span",{staticStyle:{color:"#2c3e50"}},[t._v("名称")])])],1),i("el-col",{staticClass:"sortAttribute",attrs:{span:3,offset:9}},[i("el-button",{attrs:{type:"text"},on:{click:function(e){return t.chooseSort("created_time")}}},[i("span",{staticStyle:{color:"#2c3e50"}},[t._v("创建时间")]),i("span",{class:t.orderCreated?"el-icon-arrow-up":"el-icon-arrow-down"})])],1),i("el-col",{class:t.isCurrentFileLayout?"sortAttribute":"",attrs:{span:3}},[i("el-button",{attrs:{type:"text"},on:{click:function(e){t.isCurrentFileLayout&&t.chooseSort("modified_time")}}},[i("span",{staticStyle:{color:"#2c3e50"}},[t._v("更新时间")]),t.isCurrentFileLayout?i("span",{class:t.orderModified?"el-icon-arrow-up":"el-icon-arrow-down"}):t._e()])],1),i("el-col",{class:t.isCurrentFileLayout?"sortAttribute":"",attrs:{span:2}},[i("el-button",{attrs:{icon:"",type:"text"},on:{click:function(e){t.isCurrentFileLayout&&t.chooseSort("size")}}},[i("span",{staticStyle:{color:"#2c3e50"}},[t._v("文件大小")]),t.isCurrentFileLayout?i("span",{class:t.orderSize?"el-icon-arrow-up":"el-icon-arrow-down"}):t._e()])],1),i("el-col",{staticStyle:{"text-align":"left"},attrs:{span:1}},[i("span",[t._v(" ")])])],1),i("div",{staticClass:"MyDivider"})],1):t._e(),t.isList?i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.cardLoading,expression:"cardLoading"}],staticStyle:{"justify-content":"flex-start","flex-wrap":"wrap","z-index":"1",position:"relative",overflow:"auto"},style:t.showAreasize,attrs:{"element-loading-spinner":"el-icon-loading","element-loading-text":"加载中 请稍后"}},t._l(t.docList,function(e,s){return i("resource-list",{key:s,class:{item_clicked:t.currentItemClicked===s,dc:!e.isEditStatus},attrs:{shadow:"always",doc:e,index:s,styleCardImage:t.styleCardImages},nativeOn:{click:function(e){e.stopPropagation(),t.menuShow=!1,t.clickReady&&t.itemClicked(s)},dblclick:function(e){e.stopPropagation(),t.clickReady&&t.itemDBClicked(s)},contextmenu:function(e){e.stopPropagation(),t.clickReady&&t.itemClicked(s)},mouseenter:function(e){return e.stopPropagation(),t.mounseMove(s)},mouseleave:function(e){return e.stopPropagation(),t.mounseMove(s)}}})}),1):t._e()]),i("div",{staticClass:"doc-right",style:t.docRight},[i("div",{staticStyle:{"margin-top":"60%"},on:{click:function(e){return t.openMeta(1)}}},[i("el-tooltip",{attrs:{effect:"dark",content:"资源详情",placement:"top"}},[i("el-button",{attrs:{type:"primary",size:"mini",circle:""}},[i("i",{staticClass:"el-icon-info",staticStyle:{"font-size":"20px"}})])],1)],1)]),i("doc-meta",{attrs:{clickedItemId:t.currentItemClicked>0?t.docList[t.currentItemClicked].id:""}}),i("file-meta",{attrs:{clickedItemId:t.currentItemClicked>0?t.docList[t.currentItemClicked].id:""}}),i("dir-meta",{attrs:{dirMeta:t.currentItemClicked>0?t.docList[t.currentItemClicked]:t.dirMetaInit}}),i("group-and-permission",{attrs:{clickedItemId:t.currentItemClicked>0?t.docList[t.currentItemClicked].id:"",clickedItemType:t.currentItemClicked>0?t.docList[t.currentItemClicked].type:""}}),i("upload",{attrs:{currentResourceId:t.currentResource.id}}),i("ul",{directives:[{name:"show",rawName:"v-show",value:t.menuShow&&t.currentItemClicked>0,expression:"menuShow&&currentItemClicked > 0"}],staticClass:"contextmenu",style:{left:t.menuLeft+"px",top:t.menuTop+"px"}},[t.isCurrentFileLayout?i("li",{on:{click:function(e){return e.stopPropagation(),t.downloadFile(e)}}},[i("a-icon",{attrs:{type:"cloud-download"}}),t._v("下载\n      ")],1):t._e(),t.isCurrentFileLayout?i("li",{on:{click:function(e){return e.stopPropagation(),t.filePreview(e)}}},[t._v("预览")]):t._e(),t.isCurrentFileLayout?i("li",{on:{click:function(e){return e.stopPropagation(),t.callUpload(e)}}},[t._v("上传")]):t._e(),i("li",{on:{click:function(e){return t.openMeta(1)}}},[t._v("属性")]),i("li",{on:{click:function(e){return e.stopPropagation(),t.callChangeName(e)}}},[t._v("重命名")]),t.isCurrentFileLayout?t._e():i("li",{on:{click:function(e){return e.stopPropagation(),t.newResource("dir")}}},[t._v("新建目录")]),t.isCurrentFileLayout?t._e():i("li",{on:{click:function(e){return e.stopPropagation(),t.newResource("doc")}}},[t._v("新建文档")]),t.isCurrentFileLayout?t._e():i("li",{on:{click:function(e){return e.stopPropagation(),t.callGroup(e)}}},[i("a-icon",{attrs:{type:"team"}}),t._v("权限和群组\n      ")],1),t.isCurrentFileLayout?t._e():i("li",{on:{click:function(e){return e.stopPropagation(),t.resourceDelete(e)}}},[i("a-icon",{attrs:{type:"delete"}}),t._v("删除\n      ")],1),t.isCurrentFileLayout?i("li",{on:{click:function(e){return e.stopPropagation(),t.deleteFile(e)}}},[i("a-icon",{attrs:{type:"delete"}}),t._v("删除\n      ")],1):t._e()])],1)])},o=[],a=(i("55dd"),i("cebc")),n=i("4ec3");function r(t){return new Promise(function(e){var i=new XMLHttpRequest;i.open("GET",t,!0),i.responseType="blob",i.onload=function(){200===i.status&&e(i.response)},i.send()})}function c(t,e,i){if(window.navigator.msSaveOrOpenBlob)navigator.msSaveBlob(t,e);else{var s=document.createElement("a"),o=document.querySelector("body");s.href=window.URL.createObjectURL(t),s.download=e,s.style.display="none",o.appendChild(s),s.click(),o.removeChild(s),window.URL.revokeObjectURL(s.href)}i()}function l(t,e,i){r(t).then(function(t){c(t,e,i)})}var d=i("2f62"),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-card",{directives:[{name:"menus",rawName:"v-menus"}],attrs:{"body-style":{padding:"0px",height:"100%"}}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.doc.showSmallIcons,expression:"doc.showSmallIcons"}],staticStyle:{position:"relative",top:"0px",left:"0"}},[s("div",[s("span",{staticStyle:{"font-size":"20px",right:"10%",position:"absolute"},attrs:{calss:"menu"},on:{click:function(e){return e.stopPropagation(),t.$parent.indexShowBeClick(t.index)}}},[s("span",{on:{click:t.getMousePos}},[s("a-icon",{attrs:{type:"ellipsis"}})],1)]),s("span",{directives:[{name:"show",rawName:"v-show",value:null==t.doc.ext,expression:"doc.ext == null"}],staticStyle:{"font-size":"20px",right:"30%",position:"absolute",opacity:"0.7"},on:{click:function(e){t.$parent.indexShowBeClick(t.index),t.$parent.callGroup()}}},[s("a-icon",{attrs:{type:"team"}})],1),s("span",{directives:[{name:"show",rawName:"v-show",value:null!=t.doc.ext,expression:"doc.ext != null"}],staticStyle:{"font-size":"20px",right:"30%",position:"absolute",opacity:"0.7"},on:{click:function(e){t.$parent.indexShowBeClick(t.index),t.$parent.filePreview()}}},[s("a-icon",{attrs:{type:"eye"}})],1)])]),s("div",{staticStyle:{"padding-top":"15%"}},[s("div",{staticClass:"cardImage",style:t.styleCardImage},[s("el-image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.doc.thumbnail_url,fit:"scale-down",alt:"fileImage"}},[s("div",{attrs:{slot:"error"},slot:"error"},[s("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:i("11f8"),alt:"加载失败"}})])])],1),s("div",{staticClass:"MyDivider"}),0!=t.index?s("div",{staticClass:"resCardName",staticStyle:{"text-overflow":"ellipsis",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":"1",overflow:"hidden",cursor:"default"}},[s("span",{directives:[{name:"show",rawName:"v-show",value:!t.doc.isEditStatus,expression:"!doc.isEditStatus"}],staticClass:"nameText"},[t._v(t._s(null!=t.doc.ext?t.doc.title+"."+t.doc.ext:t.doc.title))]),s("el-input",{directives:[{name:"show",rawName:"v-show",value:t.doc.isEditStatus,expression:"doc.isEditStatus"}],ref:"changeName",staticClass:"changeName",attrs:{size:"medium"},on:{blur:function(e){return e.stopPropagation(),t.changeName(e)}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.stopPropagation(),t.enter(e))},click:function(e){return e.stopPropagation(),t.getFocus(e)}},model:{value:t.doc.title,callback:function(e){t.$set(t.doc,"title",e)},expression:"doc.title"}})],1):t._e(),0==t.index?s("div",{staticClass:"resCardName",staticStyle:{"text-overflow":"ellipsis",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":"1",overflow:"hidden"}},[s("span",{staticClass:"nameText"},[t._v(t._s(t.doc.title))])]):t._e()])])},p=[],h=i("4eb9"),g=i("5c96"),m={name:"ResourceCard",props:["doc","index","styleCardImage"],data:function(){return{fileEditMeta:{},docEditMeta:{},primaryName:"",menuShow:!1,menuLeft:0,menuTop:0}},watch:{editStatus:function(t,e){if(t){var i=this;setTimeout(function(){i.$refs.changeName.focus(),i.primaryName=i.doc.title},1)}},menuTop:function(){this.$store.commit("setmenu",{Show:this.menuShow,Left:this.menuLeft,Top:this.menuTop})}},computed:{editStatus:function(){return this.doc.isEditStatus}},methods:{edit:function(){!this.doc.isEditStatus&&this.$parent.isIndexClicked(this.index)&&this.$parent.callChangeName()},getFocus:function(){},enter:function(){this.$refs.changeName.blur()},changeName:function(){"doc"==this.doc.type?this.changeDocName():"dir"==this.doc.type?this.editResources():this.changeFileName()},editResources:function(){var t=this;n["o"](this.doc.id,this.doc.title).then(function(e){200===e.data.status?t.changeSuccess():g["Message"].error(e.data.msg)}).catch(function(e){t.changeError(e)})},changeDocName:function(){var t=this;n["s"](this.doc.id).then(function(e){200===e.data.status?(t.docEditMeta=e.data.data,t.docEditMeta.title=t.doc.title,t.updateDocMeta()):g["Message"].error(e.data.msg)}).catch(function(e){t.changeError(e)})},changeFileName:function(){var t=this;n["u"](this.doc.id).then(function(e){200===e.data.status?(t.fileEditMeta=e.data.data,t.fileEditMeta.title=t.doc.title,t.updateFileMeta()):g["Message"].error(e.data.msg)}).catch(function(e){t.changeError(e)})},updateFileMeta:function(){var t=this,e=this.fileEditMeta;n["q"](e.id,e.title,e.desc,e.categories,e.tags).then(function(e){200===e.data.status?t.changeSuccess():g["Message"].error(e.data.msg)}).catch(function(e){t.changeError(e)})},updateDocMeta:function(){var t=this;n["p"](this.doc.id,this.docEditMeta.title,this.docEditMeta.desc).then(function(e){200===e.data.status?t.changeSuccess():g["Message"].error(e.data.msg)}).catch(function(e){t.changeError(e)})},changeSuccess:function(){g["Message"].success("改名成功"),this.$parent.stopEditNameByIndex(this.index)},changeError:function(t){console.log(t),g["Message"].error("改名失败 "+t.response.status),this.$parent.stopEditNameByIndex(this.index)},getMousePos:function(t){t||window.event;this.menuShow=!0,this.menuTop=t.pageY+5,this.menuLeft=t.pageX-190}}},f=m,v=(i("28a6"),i("2877")),w=Object(v["a"])(f,u,p,!1,null,null,null),y=w.exports,b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"menus",rawName:"v-menus"}]},[s("el-row",{staticClass:"list-row"},[s("el-col",{staticStyle:{"text-align":"left"},attrs:{span:1}},[s("span",[t._v(" ")])]),s("el-col",{attrs:{span:1}},[s("div",{staticClass:"resour-image"},[s("el-image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.doc.thumbnail_url,fit:"scale-down",alt:"fileImage"}},[s("div",{attrs:{slot:"error"},slot:"error"},[s("img",{staticStyle:{width:"100%",height:"100%"},attrs:{src:i("11f8"),alt:"加载失败"}})])])],1)]),s("el-col",{staticStyle:{"text-align":"left","text-overflow":"ellipsis",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":"1",overflow:"hidden",cursor:"default"},attrs:{span:4}},[0!=t.index?s("span",{staticClass:"resCardName"},[s("span",{directives:[{name:"show",rawName:"v-show",value:!t.doc.isEditStatus,expression:"!doc.isEditStatus"}],staticClass:"nameText"},[t._v(t._s(null!=t.doc.ext?t.doc.title+"."+t.doc.ext:t.doc.title))]),s("el-input",{directives:[{name:"show",rawName:"v-show",value:t.doc.isEditStatus,expression:"doc.isEditStatus"}],ref:"changeName",staticClass:"changeName",attrs:{size:"medium"},on:{blur:function(e){return e.stopPropagation(),t.changeName(e)}},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.stopPropagation(),t.enter(e))},click:function(e){return e.stopPropagation(),t.getFocus(e)}},model:{value:t.doc.title,callback:function(e){t.$set(t.doc,"title",e)},expression:"doc.title"}})],1):t._e(),0==t.index?s("span",[s("span",{staticClass:"nameText"},[t._v(t._s(t.doc.title))])]):t._e()]),s("el-col",{attrs:{span:3}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.doc.showSmallIcons,expression:"doc.showSmallIcons"}]},[s("span",{directives:[{name:"show",rawName:"v-show",value:t.index>0,expression:"index>0"}],staticStyle:{"font-size":"20px",position:"absolute"},attrs:{calss:"menu"},on:{click:function(e){return e.stopPropagation(),t.$parent.indexShowBeClick(t.index)}}},[s("span",{on:{click:t.getMousePos}},[s("a-icon",{attrs:{type:"ellipsis"}})],1)]),s("span",{directives:[{name:"show",rawName:"v-show",value:null==t.doc.ext,expression:"doc.ext == null"}],staticStyle:{"font-size":"20px",left:"35%",position:"absolute",opacity:"0.7"},on:{click:function(e){t.$parent.indexShowBeClick(t.index),t.$parent.callGroup()}}},[s("a-icon",{attrs:{type:"team"}})],1),s("span",{directives:[{name:"show",rawName:"v-show",value:null!=t.doc.ext,expression:"doc.ext != null"}],staticStyle:{"font-size":"20px",left:"35%",position:"absolute",opacity:"0.7"},on:{click:function(e){t.$parent.indexShowBeClick(t.index),t.$parent.filePreview()}}},[s("a-icon",{attrs:{type:"eye"}})],1)])]),void 0!=t.doc.created_time?s("el-col",{staticStyle:{"text-align":"left"},attrs:{span:3,offset:8}},[null==t.doc.ext&&""!=t.doc.created_time?s("span",[t._v(t._s(t.doc.created_time.substr(0,10)+" "+(parseInt(t.doc.created_time.substr(11,2))+8)+t.doc.created_time.substr(13,3)))]):t._e(),null!=t.doc.ext?s("span",[t._v(t._s(t.doc.created_time.substr(0,16)))]):t._e()]):t._e(),void 0!=t.doc.modified_time?s("el-col",{staticStyle:{"text-align":"left"},attrs:{span:3}},[s("span",[t._v(t._s(t.doc.modified_time.substr(0,16)))])]):t._e(),s("el-col",{staticStyle:{"text-align":"left"},attrs:{span:2}},[s("span",[t._v(t._s(t.formatSize(t.doc.size)))])]),s("el-col",{staticStyle:{"text-align":"left"},attrs:{span:1}},[s("span",[t._v(" ")])])],1),s("div",{staticClass:"MyDivider"})],1)},x=[],_={name:"ResourceList",props:["doc","index","styleCardImage"],data:function(){return{fileEditMeta:{},docEditMeta:{},primaryName:"",menuShow:!1,menuLeft:0,menuTop:0}},watch:{editStatus:function(t,e){if(t){var i=this;setTimeout(function(){i.$refs.changeName.focus(),i.primaryName=i.doc.title},1)}},menuTop:function(){this.$store.commit("setmenu",{Show:this.menuShow,Left:this.menuLeft,Top:this.menuTop})}},computed:{editStatus:function(){return this.doc.isEditStatus}},methods:{edit:function(){!this.doc.isEditStatus&&this.$parent.isIndexClicked(this.index)&&this.$parent.callChangeName()},getFocus:function(){},enter:function(){this.$refs.changeName.blur()},changeName:function(){"doc"==this.doc.type?this.changeDocName():"dir"==this.doc.type?this.editResources():this.changeFileName()},editResources:function(){var t=this;n["o"](this.doc.id,this.doc.title).then(function(e){200===e.data.status?t.changeSuccess():g["Message"].error(e.data.msg)}).catch(function(e){t.changeError(e)})},changeDocName:function(){var t=this;n["s"](this.doc.id).then(function(e){200===e.data.status?(t.docEditMeta=e.data.data,t.docEditMeta.title=t.doc.title,t.updateDocMeta()):g["Message"].error(e.data.msg)}).catch(function(e){t.changeError(e)})},changeFileName:function(){var t=this;n["u"](this.doc.id).then(function(e){200===e.data.status?(t.fileEditMeta=e.data.data,t.fileEditMeta.title=t.doc.title,t.updateFileMeta()):g["Message"].error(e.data.msg)}).catch(function(e){t.changeError(e)})},updateFileMeta:function(){var t=this,e=this.fileEditMeta;n["q"](e.id,e.title,e.desc,e.categories,e.tags).then(function(e){200===e.data.status?t.changeSuccess():g["Message"].error(e.data.msg)}).catch(function(e){t.changeError(e)})},updateDocMeta:function(){var t=this;n["p"](this.doc.id,this.docEditMeta.title,this.docEditMeta.desc).then(function(e){200===e.data.status?t.changeSuccess():g["Message"].error(e.data.msg)}).catch(function(e){t.changeError(e)})},changeSuccess:function(){g["Message"].success("改名成功"),this.$parent.stopEditNameByIndex(this.index)},changeError:function(t){console.log(t),g["Message"].error("改名失败 "+t.response.status),this.$parent.stopEditNameByIndex(this.index)},formatSize:function(t,e,i){if(void 0!=t){var s;i=i||["B","K","M","G","TB"];while((s=i.shift())&&t>1024)t/=1024;return("B"===s?t:t.toFixed(void 0===e?2:e))+s}},getMousePos:function(t){t||window.event;this.menuShow=!0,this.menuTop=t.pageY+5,this.menuLeft=t.pageX-190}}},C=_,k=(i("240e"),Object(v["a"])(C,b,x,!1,null,null,null)),M=k.exports,L=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("a-drawer",{directives:[{name:"menus",rawName:"v-menus"}],attrs:{width:"460",visible:t.groupVisible},on:{close:t.close}},[s("div",{attrs:{slot:"title"},slot:"title"},[s("span",[t._v("查看群组")]),s("el-button-group",{staticStyle:{float:"right","margin-right":"50px"}},[s("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"small"},on:{click:function(e){t.groupDrawer.newGroupVisible=!0}}},[t._v("新建")]),s("el-button",{attrs:{type:"success",icon:"el-icon-circle-plus-outline",size:"small"},on:{click:function(e){t.groupDrawer.addGroupVisible=!0}}},[t._v("添加")]),s("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"small"},on:{click:function(e){t.isDeleteScene=!t.isDeleteScene}}},[t.isDeleteScene?s("span",[t._v("取消")]):t._e()])],1)],1),s("div",[t.TaNoGrounp?s("span",{staticStyle:{color:"#9DA2B3"}},[t._v("该资源还没有群组，请先新建，再添加")]):t._e()]),t.TaNoGrounp?t._e():s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.GroupLoading,expression:"GroupLoading"}],staticStyle:{"border-bottom":"#e8e8e8 1px solid"},attrs:{"element-loading-text":"请稍后"}},t._l(t.groupList,function(e,o){return s("el-row",{key:o,staticStyle:{height:"120px","border-top":"#e8e8e8 1px solid",cursor:"pointer",padding:"10px"},nativeOn:{click:function(e){return t.showGroupUser(o)}}},[s("el-col",{staticStyle:{height:"100px"},attrs:{span:14}},[void 0!=e?s("h3",[t._v(t._s(e.groupInfo.group_name))]):t._e(),void 0!=e?s("span",{staticStyle:{color:"rgba(0, 0, 0, 0.45)","text-overflow":"ellipsis",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":"3",overflow:"hidden"}},[t._v(t._s(e.groupInfo.group_desc))]):t._e()]),s("el-col",{staticStyle:{height:"100px","line-height":"100px","text-align":"right"},attrs:{offset:2,span:8}},[s("span",[t._v(t._s(t.permissionMap[e.permission]))]),s("span",{staticStyle:{"margin-left":"10px"}},[s("img",{attrs:{src:i("52d6"),alt:"向右打开详情",width:"25%"}})])]),s("el-button",{directives:[{name:"show",rawName:"v-show",value:t.isDeleteScene,expression:"isDeleteScene"}],staticStyle:{position:"absolute",right:"0px",top:"2px"},attrs:{plain:"",circle:"",icon:"el-icon-close",type:"danger",size:"mini"},on:{click:function(e){return e.stopPropagation(),t.deleteGroup(o)}}})],1)}),1),s("a-drawer",{attrs:{width:"420",visible:t.groupDrawer.groupUserVisible},on:{close:function(e){t.groupDrawer.groupUserVisible=!1}}},[s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.groupUserLoading,expression:"groupUserLoading"}],attrs:{"element-loading-text":"请稍后"}},[s("div",{attrs:{slot:"title"},slot:"title"},[s("span",[t._v("群组信息")]),s("el-button-group",{staticStyle:{float:"right","margin-right":"50px"}},[s("el-button",{attrs:{disabled:"",type:"primary",icon:"el-icon-circle-plus-outline",size:"small"},on:{click:function(e){t.groupDrawer.addUserVisible=!0}}},[s("span",{staticClass:"el-icon-s-custom"})]),s("el-button",{attrs:{disabled:"",type:"danger",icon:"el-icon-delete",size:"small"},on:{click:function(e){t.isDeleteGroupUserScene=!t.isDeleteGroupUserScene}}},[s("span",{staticClass:"el-icon-s-custom"})]),s("el-button",{attrs:{type:"info",icon:"el-icon-edit",size:"small"},on:{click:function(e){t.groupDrawer.groupMetaVisible=!0}}},[t._v("编辑")])],1)],1),s("el-divider"),s("el-row",{staticStyle:{"margin-top":"10px"}},[s("el-col",{staticStyle:{"text-align":"right",color:"#9DA2B3"},attrs:{offset:1,span:5}},[t._v("群组名：")]),s("el-col",{attrs:{offset:2,span:16}},[void 0!=t.groupList[t.groupClickedIndex]?s("span",[t._v(t._s(t.groupList[t.groupClickedIndex].groupInfo.group_name))]):t._e()])],1),s("el-row",{staticStyle:{"margin-top":"10px"}},[s("el-col",{staticStyle:{"text-align":"right",color:"#9DA2B3"},attrs:{offset:1,span:5}},[t._v("创建时间：")]),s("el-col",{attrs:{offset:2,span:16}},[void 0!=t.groupList[t.groupClickedIndex]?s("span",[t._v(t._s(t.groupList[t.groupClickedIndex].groupInfo.created_at))]):t._e()])],1),s("el-row",{staticStyle:{"margin-top":"10px"}},[s("el-col",{staticStyle:{"text-align":"right",color:"#9DA2B3"},attrs:{offset:1,span:5}},[t._v("简介：")]),s("el-col",{attrs:{offset:2,span:16}},[void 0!=t.groupList[t.groupClickedIndex]?s("span",[t._v(t._s(t.groupList[t.groupClickedIndex].groupInfo.group_desc))]):t._e()])],1),s("el-row",{staticStyle:{"margin-top":"10px"}},[s("el-col",{staticStyle:{"text-align":"right",color:"#9DA2B3"},attrs:{offset:1,span:5}},[t._v("用户列表：")]),s("el-col",{attrs:{offset:2,span:16}},t._l(t.groupUserList,function(e,i){return s("el-tag",{key:i,staticStyle:{"margin-right":"10px"},attrs:{closable:t.isDeleteGroupUserScene},on:{close:function(e){return t.deleteGroupUser(i)}}},[t._v(t._s(e.username))])}),1)],1)],1),s("el-divider"),t.groupDrawer.addUserVisible?s("div",{staticClass:"showDrawerHere",staticStyle:{wight:"100%","margin-top":"30px"}},[s("div",{staticStyle:{}},[t._v("\n          新增用户\n          "),s("el-button",{staticStyle:{float:"right"},attrs:{type:"warning",size:"mini",icon:"el-icon-close",circle:""},on:{click:function(e){t.groupDrawer.addUserVisible=!1}}})],1),s("el-input",{staticStyle:{"margin-top":"10px"},attrs:{placeholder:"请输入工号"},model:{value:t.input_no_num,callback:function(e){t.input_no_num=e},expression:"input_no_num"}}),s("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.getUserId()}}},[t._v("添加")])],1):t._e(),s("a-drawer",{attrs:{title:"编辑群组信息",width:"320",visible:t.groupDrawer.groupMetaVisible},on:{close:function(e){t.groupDrawer.groupMetaVisible=!1}}},[s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.changeGroupMetaLoading,expression:"changeGroupMetaLoading"}],attrs:{"element-loading-text":"请稍后"}},[s("el-row",{staticStyle:{"margin-top":"10px"}},[s("el-col",{staticStyle:{"text-align":"right",color:"#9DA2B3"},attrs:{offset:1,span:5}},[t._v("群组名：")]),s("el-col",{attrs:{offset:2,span:16}},[s("el-input",{attrs:{type:"text",size:"small"},model:{value:t.changeGroupMeta.group_name,callback:function(e){t.$set(t.changeGroupMeta,"group_name",e)},expression:"changeGroupMeta.group_name"}})],1)],1),s("el-row",{staticStyle:{"margin-top":"10px"}},[s("el-col",{staticStyle:{"text-align":"right",color:"#9DA2B3"},attrs:{offset:1,span:5}},[t._v("简介：")]),s("el-col",{attrs:{offset:2,span:16}},[s("el-input",{attrs:{type:"textarea",rows:8,"show-word-limit":"",size:"small"},model:{value:t.changeGroupMeta.group_desc,callback:function(e){t.$set(t.changeGroupMeta,"group_desc",e)},expression:"changeGroupMeta.group_desc"}})],1)],1),s("el-button",{staticStyle:{float:"left"},attrs:{type:"primary",size:"mini"},on:{click:t.UpdataGroupMeta}},[t._v("确认")])],1)])],1),s("a-drawer",{attrs:{title:"添加群组给它",width:"320",visible:t.groupDrawer.addGroupVisible},on:{close:function(e){t.groupDrawer.addGroupVisible=!1}}},[s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.addGroupLoading,expression:"addGroupLoading"}],attrs:{"element-loading-text":"请稍后"}},[s("div",[0==t.newGroupList.length?s("span",[t._v("请先新建群组 再来添加")]):t._e()]),t._l(t.newGroupList,function(e,i){return s("el-row",{key:i,staticStyle:{height:"120px","border-top":"#e8e8e8 1px solid",cursor:"pointer",padding:"10px"}},[s("el-col",{staticStyle:{height:"100px"},attrs:{span:14}},[s("h3",[t._v(t._s(e.groupInfo.group_name))]),s("span",{staticStyle:{color:"rgba(0, 0, 0, 0.45)","text-overflow":"ellipsis",display:"-webkit-box","-webkit-box-orient":"vertical","-webkit-line-clamp":"3",overflow:"hidden"}},[t._v(t._s(e.groupInfo.group_desc))])]),s("el-col",{staticStyle:{height:"100px","line-height":"100px","text-align":"right"},attrs:{offset:2,span:8}},[s("span",[t._v(t._s(t.permissionMap[e.permission]))])]),s("div",{staticStyle:{"margin-top":"20px"}},[s("el-radio-group",{attrs:{size:"mini"},on:{change:function(e){return t.selectPermission(t.pmModel,i)}},model:{value:t.pmModel,callback:function(e){t.pmModel=e},expression:"pmModel"}},[s("el-radio-button",{attrs:{border:"",label:"100"}},[t._v("可读")]),s("el-radio-button",{attrs:{border:"",label:"010"}},[t._v("可写")]),s("el-radio-button",{attrs:{border:"",label:"110"}},[t._v("可读可写")])],1),s("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"mini"},on:{click:function(e){return t.addPermissionGrounp(i)}}},[t._v("确认")])],1)],1)})],2)]),s("a-drawer",{attrs:{title:"新建群组",width:"320",visible:t.groupDrawer.newGroupVisible},on:{close:function(e){t.groupDrawer.newGroupVisible=!1}}},[s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.newGroupLoading,expression:"newGroupLoading"}],attrs:{"element-loading-text":"请稍后"}},[s("el-row",{staticStyle:{"margin-top":"10px"}},[s("el-col",{staticStyle:{"text-align":"right",color:"#9DA2B3"},attrs:{offset:1,span:5}},[t._v("群组名：")]),s("el-col",{attrs:{offset:2,span:16}},[s("el-input",{attrs:{type:"text",size:"small"},model:{value:t.groupMeta.group_name,callback:function(e){t.$set(t.groupMeta,"group_name",e)},expression:"groupMeta.group_name"}})],1)],1),s("el-row",{staticStyle:{"margin-top":"10px"}},[s("el-col",{staticStyle:{"text-align":"right",color:"#9DA2B3"},attrs:{offset:1,span:5}},[t._v("简介：")]),s("el-col",{attrs:{offset:2,span:16}},[s("el-input",{attrs:{type:"textarea",rows:8,"show-word-limit":"",size:"small"},model:{value:t.groupMeta.group_desc,callback:function(e){t.$set(t.groupMeta,"group_desc",e)},expression:"groupMeta.group_desc"}})],1)],1),s("el-button",{staticStyle:{position:"relative",margin:"10px 0 0 20px"},attrs:{type:"primary"},on:{click:function(e){return t.newGroup()}}},[t._v("确认")])],1)])],1)},I=[],S={name:"GroupNPermission",data:function(){return{GroupLoading:!0,newGroupLoading:!1,addGroupLoading:!1,groupUserLoading:!0,changeGroupMetaLoading:!1,groupDrawer:{groupUserVisible:!1,groupMetaVisible:!1,newGroupVisible:!1,addGroupVisible:!1,addUserVisible:!1},groupList:h["j"],isCurrentResourceOwner:1,isCurrentGroupOwner:1,permissionMap:h["n"],isDeleteScene:!1,groupUserList:h["m"],isDeleteGroupUserScene:!1,changeGroupMeta:{group_name:"",group_desc:""},groupMeta:{group_name:"",group_desc:""},groupClickedIndex:0,newGroupList:[],newGroupMsg:{permission:"",groupInfo:{}},groupsIdList:[""],pmModel:"100",input_no_num:"",UserIdFromGet:[],currentGroupId:"",TaNoGrounp:!0}},props:["clickedItemId","clickedItemType"],watch:{groupVisible:function(){0==this.$store.state.groupVisible?this.isDeleteScene=!1:this.getGroupsOfResource()}},computed:Object(a["a"])({},Object(d["b"])(["groupVisible","currentResourceId"])),methods:{deleteGroup:function(t){var e=this;e.GroupLoading=!0,n["m"](this.groupList[t].groupInfo.group_id).then(function(t){200===t.data.status?e.getGroupsOfResource():(e.GroupLoading=!1,alert(t.data.msg))}).catch(function(t){e.GroupLoading=!1,g["Message"].error("删除失败 "+t.response.status),console.log(t)})},newGroup:function(){var t=this;t.newGroupLoading=!0,n["B"](this.groupMeta.group_name,this.groupMeta.group_desc).then(function(e){200===e.data.status?(console.log(e.data),t.$notify({type:"success",message:"新建成功",duration:1500}),t.newGroupLoading=!1,t.newGroupList.push({permission:"",groupInfo:e.data.data}),console.log(t.newGroupList),t.groupDrawer.newGroupVisible=!1):(t.newGroupLoading=!1,alert(e.data.msg))}).catch(function(e){t.newGroupLoading=!1,t.$message.warning("新建失败 "+e.response.status),console.log(e)}),this.groupMeta.group_name="",this.groupMeta.group_desc=""},showGroupUser:function(t){var e=this;e.changeGroupMeta.group_name=e.groupList[t].groupInfo.group_name,e.changeGroupMeta.group_desc=e.groupList[t].groupInfo.group_desc,e.currentGroupId=e.groupList[t].groupInfo.group_id,n["A"](this.groupList[t].groupInfo.group_id).then(function(i){200===i.data.status?(e.groupUserLoading=!1,e.groupDrawer.groupUserVisible=!0,e.groupClickedIndex=t,e.groupUserList=i.data.data.memberList,e.isCurrentGroupOwner=i.data.data.isOwner):(e.groupUserLoading=!1,alert(i.data.msg))}).catch(function(t){e.groupUserLoading=!1,console.log(t)})},deleteGroupUser:function(t){this.groupUserList.splice(t,1)},getGroupsOfResource:function(){var t=this;n["w"](this.clickedItemId,this.clickedItemType).then(function(e){200===e.data.status?(t.GroupLoading=!1,t.isCurrentResourceOwner=e.data.data.isOwner,0!=e.data.data.groupList.length?(t.TaNoGrounp=!1,t.groupList=e.data.data.groupList):(g["Message"].warning("没有群组 请先添加"),t.TaNoGrounp=!0,t.GroupLoading=!1,t.groupList=h["j"])):(t.GroupLoading=!1,alert(e.data.msg))}).catch(function(e){t.GroupLoading=!1,g["Message"].error("获取失败 "+e),console.log(e)})},UpdataGroupMeta:function(){var t=this;t.changeGroupMetaLoading=!0,n["E"](t.groupList[t.groupClickedIndex].groupInfo.group_id,t.changeGroupMeta.group_name,t.changeGroupMeta.group_desc).then(function(e){200===e.data.status?(t.$notify({type:"success",message:"修改成功",duration:1500}),t.getGroupsOfResource(),t.changeGroupMetaLoading=!1,t.groupDrawer.groupMetaVisible=!1):(t.changeGroupMetaLoading=!1,t.$notify({type:"error",message:"修改失败"+e.data.status,duration:1500}))}).catch(function(e){t.changeGroupMetaLoading=!1,t.$notify({type:"error",message:"修改失败"+e,duration:1500}),console.log(e)})},selectPermission:function(t,e){this.newGroupList[e].permission=t},addPermissionGrounp:function(t){var e=this;e.addGroupLoading=!0,e.groupsIdList[0]=e.newGroupList[0].groupInfo.group_id,n["i"](e.clickedItemId,e.newGroupList[0].permission,e.groupsIdList,e.clickedItemType).then(function(t){200===t.data.status?(e.addGroupLoading=!1,e.$notify({message:"添加群组成功",type:"success",duration:1500}),e.getGroupsOfResource()):(e.addGroupLoading=!1,alert(t.data.msg))}).catch(function(t){e.addGroupLoading=!1,e.$notify({message:"添加群组失败"+t.response.status,type:"warning",duration:1500}),console.log(t)})},getUserId:function(){var t=this;n["z"](t.input_no_num).then(function(e){200===e.data.status?(t.UserIdFromGet.push(e.data.data.user_id),t.addUserToGrounp()):alert(e)}).catch(function(t){g["Message"].warning("无法获取用户id： "+t),console.log(t)})},addUserToGrounp:function(){var t=this;n["j"](t.currentGroupId,t.UserIdFromGet).then(function(t){200===t.data.status?g["Message"].success("成功添加用户"):alert(t)}).catch(function(t){g["Message"].warning("无法添加： "+t),console.log(t)})},close:function(){this.$store.commit({type:"groupH"})},handleError:function(t){console.log(t),this.$message.warning(h["c"])}}},E=S,A=Object(v["a"])(E,L,I,!1,null,null,null),B=A.exports,G=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a-drawer",{attrs:{width:"270",getContainer:"section",mask:!1,visible:t.docMetaVisible},on:{close:t.close}},[i("div",{attrs:{slot:"title"},slot:"title"},[i("span",[t._v("文档属性")])]),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.DocLoading,expression:"DocLoading"}],staticClass:"loadingMsg",attrs:{"element-loading-text":"请稍后"}},[i("el-button",{attrs:{size:"small",icon:"el-icon-edit",type:"primary",plain:""},on:{click:function(e){t.docEditMetaVisible=!0}}}),i("el-row",{staticStyle:{"margin-top":"10px",color:"#9DA2B3"}},[t._v("文档名：")]),i("el-row",[t._v(t._s(t.docMeta.title))]),i("el-row",{staticStyle:{"margin-top":"10px",color:"#9DA2B3"}},[t._v("创建时间：")]),void 0==t.docMeta.created_time?i("el-row"):t._e(),void 0!=t.docMeta.created_time?i("el-row",[t._v(t._s(t.docMeta.created_time.substr(0,16)))]):t._e(),i("el-row",{staticStyle:{"margin-top":"10px",color:"#9DA2B3"}},[t._v("修改时间")]),void 0==t.docMeta.modified_time?i("el-row"):t._e(),void 0!=t.docMeta.modified_time?i("el-row",[t._v(t._s(t.docMeta.modified_time.substr(0,16)))]):t._e(),i("el-row",{staticStyle:{"margin-top":"10px",color:"#9DA2B3"}},[t._v("简介")]),i("el-row",[t._v(t._s(t.docMeta.desc))])],1),i("a-drawer",{attrs:{width:"420",visible:t.docEditMetaVisible},on:{close:function(e){t.docEditMetaVisible=!1}}},[i("div",{attrs:{slot:"title"},slot:"title"},[i("span",[t._v("修改文档信息")])]),i("el-row",{staticStyle:{"margin-top":"10px"}},[i("el-col",{staticStyle:{"text-align":"right"},attrs:{offset:1,span:5}},[t._v("文档名：")]),i("el-col",{attrs:{offset:2,span:16}},[i("el-input",{attrs:{type:"text",size:"small"},model:{value:t.docEditMeta.title,callback:function(e){t.$set(t.docEditMeta,"title",e)},expression:"docEditMeta.title"}})],1)],1),i("el-row",{staticStyle:{"margin-top":"10px"}},[i("el-col",{staticStyle:{"text-align":"right"},attrs:{offset:1,span:5}},[t._v("简介：")]),i("el-col",{attrs:{offset:2,span:16}},[i("el-input",{attrs:{type:"textarea",rows:8,"show-word-limit":"",size:"small"},model:{value:t.docEditMeta.desc,callback:function(e){t.$set(t.docEditMeta,"desc",e)},expression:"docEditMeta.desc"}})],1)],1),i("el-row",{staticStyle:{"margin-top":"10px"}},[i("el-button",{staticStyle:{position:"absolute",top:"10px",right:"10px"},attrs:{size:"small",type:"primary",plain:""},on:{click:t.updateDocMeta}},[t._v("保存修改")])],1)],1)],1)},D=[],N={name:"DocMeta",data:function(){return{docEditMetaVisible:!1,DocLoading:!0,docMeta:{id:"1",title:"****",desc:"****",creator:"green",files:["1","2","ABC"],meta_state:1,created_time:"****-**-** **:**:**",modified_time:"****-**-** **:**:**"},docEditMeta:{title:"****",desc:"****"}}},computed:Object(a["a"])({},Object(d["b"])(["docMetaVisible"])),props:["clickedItemId"],watch:{docMetaVisible:function(t,e){t&&""!=this.clickedItemId&&this.getDocMeta()},clickedItemId:function(){1==this.docMetaVisible&&""!=this.clickedItemId&&this.getDocMeta()}},methods:{updateDocMeta:function(){var t=this;n["p"](this.clickedItemId,this.docEditMeta.title,this.docEditMeta.desc).then(function(e){200===e.data.status?(t.docMeta=JSON.parse(JSON.stringify(t.docEditMeta)),t.docEditMetaVisible=!1,t.$parent.itemDBClicked(-1),g["Message"].success("修改成功")):g["Message"].error(e.data.msg)}).catch(function(t){g["Message"].error("修改失败 "+t.response.status)})},getDocMeta:function(){var t=this,e=this;this.DocLoading=!0,n["s"](this.clickedItemId).then(function(i){200===i.data.status?(e.docMeta=i.data.data,e.docEditMeta=JSON.parse(JSON.stringify(e.docMeta)),t.DocLoading=!1):e.$message.error(i.data.msg)}).catch(function(t){e.$message.error(t)})},close:function(){this.$store.commit({type:"docMetaH"})},handleError:function(t){console.log(t),this.$message.warning(h["c"])}}},F=N,V=Object(v["a"])(F,G,D,!1,null,null,null),R=V.exports,T=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a-drawer",{attrs:{title:"目录属性",getContainer:"section",width:"270",mask:!1,visible:t.dirMetaVisible},on:{close:t.close}},[i("el-row",{staticStyle:{"margin-top":"10px",color:"#9DA2B3"}},[t._v("目录名：")]),i("el-row",[t._v(t._s(t.dirMeta.title))]),i("el-row",{staticStyle:{"margin-top":"10px",color:"#9DA2B3"}},[t._v("创建时间：")]),null!=t.dirMeta.created_time&&""!=t.dirMeta.created_time?i("el-row",[t._v(t._s(t.dirMeta.created_time.substr(0,10)+" "+(parseInt(t.dirMeta.created_time.substr(11,2))+8)+t.dirMeta.created_time.substr(13,3)))]):t._e()],1)},z=[],O={name:"DirMeta",data:function(){return{showDirCreatTime:"yyyy-mm-dd xx:xx:xx"}},computed:Object(a["a"])({},Object(d["b"])(["clickedItemId","dirMetaVisible"])),props:["dirMeta"],methods:{close:function(){this.$store.commit({type:"dirMetaH"})}}},U=O,$=(i("b4f0"),Object(v["a"])(U,T,z,!1,null,null,null)),P=$.exports,j=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("a-drawer",{attrs:{width:"270",getContainer:"section",mask:!1,visible:t.fileMetaVisible},on:{close:t.close}},[i("div",{attrs:{slot:"title"},slot:"title"},[i("span",[t._v("文件属性")])]),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.fileloading,expression:"fileloading"}]},[i("el-button",{attrs:{size:"small",type:"primary",plain:"",icon:"el-icon-edit"},on:{click:function(e){t.fileEditMetaVisible=!0}}}),i("el-row",{staticStyle:{"margin-top":"10px",color:"#9DA2B3"}},[t._v("文件名：")]),i("el-row",[t._v(t._s(t.fileMeta.title+"."+t.fileMeta.ext))]),i("el-row",{staticStyle:{"margin-top":"10px",color:"#9DA2B3"}},[t._v("创建时间：")]),void 0==t.fileMeta.created_time?i("el-row"):t._e(),void 0!=t.fileMeta.created_time?i("el-row",[t._v(t._s(t.fileMeta.created_time.substr(0,16)))]):t._e(),i("el-row",{staticStyle:{"margin-top":"10px",color:"#9DA2B3"}},[t._v("修改时间：")]),void 0==t.fileMeta.modified_time?i("el-row"):t._e(),void 0!=t.fileMeta.modified_time?i("el-row",[t._v(t._s(t.fileMeta.modified_time.substr(0,16)))]):t._e(),i("el-row",{staticStyle:{"margin-top":"10px"}},[i("el-col",{staticStyle:{"text-align":"right",color:"#9DA2B3"},attrs:{offset:1,span:5}},[t._v("类目：")]),i("el-col",{attrs:{offset:2,span:16}},t._l(t.fileCategories,function(e,s){return i("el-tag",{key:s,staticStyle:{"margin-right":"5px"},attrs:{type:"success"}},[t._v(t._s(e.title))])}),1)],1),i("el-row",{staticStyle:{"margin-top":"10px"}},[i("el-col",{staticStyle:{"text-align":"right",color:"#9DA2B3"},attrs:{offset:1,span:5}},[t._v("标签：")]),i("el-col",{attrs:{offset:2,span:16}},t._l(t.fileTags,function(e,s){return i("el-tag",{key:s,staticStyle:{"margin-right":"5px"},attrs:{type:"primary"}},[t._v(t._s(e.title))])}),1)],1),i("el-row",{staticStyle:{"margin-top":"10px"}},[i("el-col",{staticStyle:{"text-align":"right",color:"#9DA2B3"},attrs:{offset:1,span:5}},[t._v("简介：")]),i("el-col",{attrs:{offset:2,span:16}},[i("span",[t._v(t._s(t.fileMeta.desc))])])],1)],1),i("a-drawer",{attrs:{width:"420",visible:t.fileEditMetaVisible},on:{close:function(e){t.fileEditMetaVisible=!1}}},[i("div",{attrs:{slot:"title"},slot:"title"},[i("span",[t._v("修改文件信息")])]),i("el-row",{staticStyle:{"margin-top":"10px"}},[i("el-col",{staticStyle:{"text-align":"right",color:"#9DA2B3"},attrs:{offset:1,span:5}},[t._v("文件名：")]),i("el-col",{attrs:{offset:2,span:16}},[i("el-input",{attrs:{type:"text",size:"small"},model:{value:t.fileEditMeta.title,callback:function(e){t.$set(t.fileEditMeta,"title",e)},expression:"fileEditMeta.title"}})],1)],1),i("el-row",{staticStyle:{"margin-top":"10px"}},[i("el-col",{staticStyle:{"text-align":"right",color:"#9DA2B3"},attrs:{offset:1,span:5}},[t._v("简介：")]),i("el-col",{attrs:{offset:2,span:16}},[i("el-input",{attrs:{type:"textarea",rows:8,"show-word-limit":"",size:"small"},model:{value:t.fileEditMeta.desc,callback:function(e){t.$set(t.fileEditMeta,"desc",e)},expression:"fileEditMeta.desc"}})],1)],1),i("el-row",{staticStyle:{"margin-top":"10px"}},[i("el-button",{staticStyle:{position:"absolute",top:"10px",right:"10px"},attrs:{size:"small",type:"primary",plain:""},on:{click:t.updateFileMeta}},[t._v("保存修改")])],1)],1)],1)},Q=[],H={name:"FileMeta",data:function(){return{fileEditMetaVisible:!1,fileMeta:h["i"],fileEditMeta:h["i"],fileCategories:h["o"],fileTags:h["o"],fileloading:!0}},computed:Object(a["a"])({},Object(d["b"])(["fileMetaVisible"])),props:["clickedItemId"],watch:{fileMetaVisible:function(t,e){t&&""!=this.clickedItemId&&this.getFileMeta()},clickedItemId:function(){1==this.fileMetaVisible&&""!=this.clickedItemId&&this.getFileMeta()}},methods:{getFileMeta:function(){var t=this;t.fileloading=!0,n["u"](this.clickedItemId).then(function(e){200===e.data.status?(t.fileMeta=e.data.data,t.fileEditMeta=JSON.parse(JSON.stringify(e.data.data)),t.getFileCategories(),t.getFileTags(),t.fileloading=!1):t.$message.error(e.data.msg)}).catch(function(e){t.$message.error(e)})},updateFileMeta:function(){var t=this,e=this.fileEditMeta;n["q"](e.id,e.title,e.desc,e.categories,e.tags).then(function(e){200===e.data.status?(t.fileMeta=JSON.parse(JSON.stringify(t.fileEditMeta)),t.$parent.itemDBClicked(-1),t.fileEditMetaVisible=!1):t.$message.error(e.data.msg)}).catch(function(e){t.$message.error(e)})},getFileCategories:function(){var t=this;n["t"](this.clickedItemId).then(function(e){200===e.data.status?t.fileCategories=e.data.data:t.$message.error(e.data.msg)}).catch(function(e){t.$message.error(e)})},getFileTags:function(){var t=this;n["v"](this.clickedItemId).then(function(e){200===e.data.status?t.fileTags=e.data.data:t.$message.error(e.data.msg)}).catch(function(e){t.$message.error(e)})},close:function(){this.$store.commit({type:"fileMetaH"})},handleError:function(t){console.log(t),this.$message.warning(h["c"])}}},J=H,X=Object(v["a"])(J,j,Q,!1,null,null,null),K=X.exports,Y=i("9dac"),q=null,W={name:"Doc",data:function(){return{keyword:"",path:[],currentItemClicked:-1,clickReady:!0,docList:h["f"],currentResource:h["d"],isCurrentFileLayout:!1,currentUserId:"",dirMetaInit:h["e"],downloadUrl:"",downloadName:"",cardLoading:!1,sizeText:"中图标",cardSize:"",styleCardImages:{width:"130px",height:"130px"},styleObject:{width:"151px",height:"195px"},isList:!0,docLeft:{width:"94%"},docRight:{height:""},firstInfor:!1,nowMetaType:"dir",showAreasize:{height:""},showAreasizeIframe:{height:""},menuShow:!1,menuLeft:0,menuTop:0,orderCreated:!1,orderModified:!1,orderSize:!1,mounseMoving:!1,yuLanSrc:"",isUseIframe:!1}},computed:Object(a["a"])({},Object(d["b"])(["pathBackup","currentResourceBackup"])),components:{"resource-card":y,"resource-list":M,"group-and-permission":B,"doc-meta":R,"dir-meta":P,"file-meta":K,upload:Y["a"]},created:function(){var t=this;this.$root.eventHub.$on("login",function(){t.currentResource.id=t.currentResourceBackup.id,t.path=t.pathBackup,t.itemDBClicked(-1)}),this.docRight.height=document.body.clientHeight-60+"px",this.showAreasize.height=document.body.clientHeight-260+"px",this.showAreasizeIframe.height=document.body.clientHeight-100+"px",this.changeWidth(1),console.log(this.showAreasize.height)},mounted:function(){null!=this.currentResourceBackup&&null!=this.$store.state.idOfThePathJust&&(this.currentResource.id=this.$store.state.idOfThePathJust,this.currentResource.type=this.$store.state.typeOfThePathJust),null!=this.currentResource.id&&(this.path=this.pathBackup,this.itemDBClicked(-1)),"doc"==this.$store.state.typeOfThePathJust&&(this.isCurrentFileLayout=!0),this.isList=this.$store.state.ListOrNot,this.$store.commit("fileMetaH"),this.$store.commit("dirMetaH"),this.$store.commit("docMetaH")},watch:{isList:function(){this.$store.commit("setListOrNot",this.isList)},"$store.state.dirMetaVisible":function(){!0===this.$store.state.dirMetaVisible||!0===this.$store.state.fileMetaVisible||!0===this.$store.state.docMetaVisible?(this.changeWidth(2),this.firstInfor=!0):(this.changeWidth(1),this.firstInfor=!1)},"$store.state.fileMetaVisible":function(){!0===this.$store.state.fileMetaVisible||!0===this.$store.state.docMetaVisible||!0===this.$store.state.dirMetaVisible?(this.changeWidth(2),this.firstInfor=!0):(this.changeWidth(1),this.firstInfor=!1)},"$store.state.docMetaVisible":function(){!0===this.$store.state.docMetaVisible||!0===this.$store.state.dirMetaVisible||!0===this.$store.state.fileMetaVisible?(this.changeWidth(2),this.firstInfor=!0):(this.changeWidth(1),this.firstInfor=!1)},"$store.state.menu.Top":function(){this.menuShow=this.$store.state.menu.Show,this.menuLeft=this.$store.state.menu.Left,this.$store.state.menu.Top+250>document.body.clientHeight?this.menuTop=document.body.clientHeight-250:this.menuTop=this.$store.state.menu.Top}},methods:{itemClicked:function(t){var e=this;clearTimeout(q),q=setTimeout(function(){console.log("单击 "+t),e.currentItemClicked=t,1==e.firstInfor&&e.openMeta(2)},100)},itemDBClicked:function(t){this.menuShow=!1,t>0&&this.isCurrentFileLayout?this.filePreview():(clearTimeout(q),console.log("双击",t),this.currentItemClicked=t,-1==t?this.refreshResource():1!=this.path.length&&0==t?this.backToUpper():this.goToNext())},refreshResource:function(){this.chooseSize(this.$store.state.whatSizeCard),this.cardLoading=!0;var t=this;"dir"==this.currentResource.type?n["y"](this.currentResource.type,this.currentResource.id).then(function(e){200===e.data.status?(null==e.data.data&&(e.data.data=[]),t.docList.splice(0,t.docList.length),t.path.length>1&&t.docList.push({title:"返回",thumbnail_url:i("c9a6"),type:"dir",id:t.path[t.path.length-2].id,isEditStatus:!1}),t.handleResource(e.data.data)):(t.handleError(err),g["Message"].warning(e.data.status))}).catch(function(t){console.log(t),g["Message"].error("刷新失败 "+t)}):n["r"](this.currentResource.id).then(function(e){200===e.data.status?(null==e.data.data.files&&(e.data.data.files=[]),t.docList.splice(0,t.docList.length),t.path.length>1&&t.docList.push({title:"返回",thumbnail_url:i("c9a6"),type:"dir",id:t.path[t.path.length-2].id,isEditStatus:!1}),t.handleResource(e.data.data.files)):(t.handleError(err),g["Message"].warning(e.data.status))}).catch(function(t){g["Message"].error("刷新失败 "+t.response.status)})},backToUpper:function(){var t=this,e=this;this.cardLoading=!0,"dir"==this.docList[this.currentItemClicked].type?n["y"](this.docList[this.currentItemClicked].type,this.docList[this.currentItemClicked].id).then(function(s){200===s.data.status?(null==s.data.data&&(s.data.data=[]),e.isCurrentFileLayout=!1,e.currentResource=t.docList[t.currentItemClicked],e.path.pop(),t.$store.commit("setIdOfThePathJust",t.docList[t.currentItemClicked].id),t.$store.commit("setTypeOfThePathJust",t.docList[t.currentItemClicked].type),e.docList.splice(0,e.docList.length),e.path.length>1&&e.docList.push({title:"返回",thumbnail_url:i("c9a6"),type:"dir",id:e.path[e.path.length-2].id,isEditStatus:!1}),e.handleResource(s.data.data)):g["Message"].error(s.data.msg)}).catch(function(t){g["Message"].error("操作失败 请先登陆或刷新")}):n["r"](this.docList[this.currentItemClicked].id).then(function(s){200===s.data.status?(null==s.data.data.files&&(s.data.data.files=[]),e.isCurrentFileLayout=!1,e.currentResource=t.docList[t.currentItemClicked],e.path.pop(),t.$store.commit("setIdOfThePathJust",t.docList[t.currentItemClicked].id),t.$store.commit("setTypeOfThePathJust",t.docList[t.currentItemClicked].type),e.docList.splice(0,e.docList.length),e.path.length>1&&e.docList.push({title:"返回",thumbnail_url:i("c9a6"),type:"dir",id:e.path[e.path.length-2].id,isEditStatus:!1}),e.handleResource(s.data.data.files)):g["Message"].error(s.data.msg)}).catch(function(t){g["Message"].error("操作失败 请先登陆或刷新")})},goToNext:function(){var t=this,e=this;this.cardLoading=!0,"dir"==this.docList[this.currentItemClicked].type?n["y"](this.docList[this.currentItemClicked].type,this.docList[this.currentItemClicked].id).then(function(s){if(200===s.data.status){null==s.data.data&&(s.data.data=[]);var o=e.currentResource.id;e.isCurrentFileLayout="doc"==e.docList[e.currentItemClicked].type,e.currentResource=t.docList[t.currentItemClicked],t.$store.commit("setIdOfThePathJust",t.docList[t.currentItemClicked].id),t.$store.commit("setTypeOfThePathJust",t.docList[t.currentItemClicked].type),e.path.push(e.docList[e.currentItemClicked]),e.docList.splice(0,e.docList.length),e.docList.push({title:"返回",thumbnail_url:i("c9a6"),type:"dir",id:o,isEditStatus:!1}),e.handleResource(s.data.data)}else g["Message"].error(s.data.msg)}).catch(function(e){403==e.response.status?(g["Message"].error("您没有权限 无法打开 "),t.cardLoading=!1):g["Message"].error("操作失败 请先登陆或刷新")}):n["r"](this.docList[this.currentItemClicked].id).then(function(s){if(200===s.data.status){null==s.data.data.files&&(s.data.data.files=[]);var o=e.currentResource.id;e.isCurrentFileLayout="doc"==e.docList[e.currentItemClicked].type,e.currentResource=t.docList[t.currentItemClicked],t.$store.commit("setIdOfThePathJust",t.docList[t.currentItemClicked].id),t.$store.commit("setTypeOfThePathJust",t.docList[t.currentItemClicked].type),e.path.push(e.docList[e.currentItemClicked]),e.docList.splice(0,e.docList.length),e.docList.push({title:"返回",thumbnail_url:i("c9a6"),type:"dir",id:o,isEditStatus:!1}),e.handleResource(s.data.data.files)}else g["Message"].error(s.data.msg)}).catch(function(e){console.log(e),403==e.response.status?(g["Message"].error("您没有权限 无法打开 "),t.cardLoading=!1):g["Message"].error("操作失败 请先登陆或刷新")})},handleResource:function(t){for(var e,s=0;s<t.length;++s)e=t[s].ext,"./assets/images/docCnt.png"==t[s].thumbnail&&(t[s].thumbnail_url=i("9b0f")),"./assets/images/doc.png"==t[s].thumbnail&&(t[s].thumbnail_url=i("d5c0")),null==t[s].thumbnail&&void 0==t[s].thumbnail_url&&(t[s].thumbnail_url=i("pptx"==e||"ppt"==e?"4610":"doc"==e||"docx"==e?"e384":"xlsx"==e||"xls"==e?"94b4":"py"==e||"java"==e||"html"==e||"css"==e||"js"==e||"cpp"==e?"86cf":"104d")),"default"==t[s].thumbnail_url&&(t[s].thumbnail_url=i("pptx"==e||"ppt"==e?"4610":"doc"==e||"docx"==e?"e384":"xlsx"==e||"xls"==e?"94b4":"flv"==e||"mp4"==e?"b47a":"mp3"==e?"2199":"exe"==e?"d7ea":"zip"==e||"rar"==e||"7z"==e?"463f":"txt"==e?"3b0e":"py"==e||"java"==e||"html"==e||"css"==e||"js"==e||"cpp"==e?"86cf":"87d4")),"svg"==e&&(t[s].thumbnail_url=i("9b15")),t[s].isEditStatus=!1,t[s].showSmallIcons=!1;this.docList=this.docList.concat(t),this.cardLoading=!1,this.currentItemClicked=-1,this.clickReady=!0},downloadFile:function(){var t=this;n["c"](this.docList[this.currentItemClicked].id).then(function(e){if(200===e.data.status){var i=t.$notify({title:"后台下载",message:"文件后台下载中，下载时间受网络影响，请耐心等候",type:"info",duration:0});l(e.data.data.url,t.docList[t.currentItemClicked].title+"."+t.docList[t.currentItemClicked].ext,function(){i.close(),setTimeout(function(){t.$notify({title:"下载",message:"文件下载完成",type:"success"})},500)})}}).catch(function(e){console.log("downloadFile"),t.handleError(e)})},filePreview:function(){var t=this;n["c"](this.docList[this.currentItemClicked].id).then(function(e){200===e.data.status?(t.yuLanSrc="http://39.108.210.48:8012/onlinePreview?url="+encodeURIComponent(e.data.data.url),t.isUseIframe=!0):console.log("拿不到 file Url")}).catch(function(e){console.log("downloadFile"),t.handleError(e)})},openMeta:function(t){var e=this.nowMetaType;this.isCurrentFileLayout&&(e="this.ext"),this.currentItemClicked>0&&(this.nowMetaType==this.docList[this.currentItemClicked].type&&e==this.docList[this.currentItemClicked].type||(this.$store.commit("fileMetaH"),this.$store.commit("dirMetaH"),this.$store.commit("docMetaH"))),-1==this.currentItemClicked&&(this.$store.commit("fileMetaH"),this.$store.commit("dirMetaH"),this.$store.commit("docMetaH")),1==t&&(this.firstInfor=!0),2!=t&&1!=t||(this.isCurrentFileLayout&&!1===this.$store.state.dirMetaVisible&&!1===this.$store.state.docMetaVisible?(this.$store.commit("fileMetaV"),this.nowMetaType="file"):!1===this.$store.state.fileMetaVisible&&!1===this.$store.state.docMetaVisible&&(void 0==this.docList[this.currentItemClicked]?(this.$store.commit("dirMetaV"),this.nowMetaType="dir"):"dir"==this.docList[this.currentItemClicked].type&&(this.$store.commit("dirMetaV"),this.nowMetaType="dir")),!1===this.$store.state.fileMetaVisible&&!1===this.$store.state.dirMetaVisible&&(this.$store.commit("docMetaV"),this.nowMetaType="doc"))},newResource:function(t){var e=this;n["C"](t,this.currentResource.id).then(function(s){if(200===s.data.status){var o,a=s.data.data;"doc"==t&&(o=i("d5c0")),"dir"==t&&(o=i("9b0f")),e.docList.push({created_time:a.created_at,thumbnail_url:o,creator:a.creator_id,resource_type:a.resource_type,id:a.resource_id,title:a.resource_name}),g["Message"].success("新建成功"),e.refreshResource()}else g["Message"].error(s.data.msg)}).catch(function(t){e.handleError(t)})},resourceDelete:function(){var t=this;this.$alert("此操作将永久删除该资源, 是否继续?","删除资源",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.cardLoading=!0,n["n"](t.docList[t.currentItemClicked].type,t.docList[t.currentItemClicked].id).then(function(e){200===e.data.status?(t.refreshResource(),g["Message"].success("删除成功"),t.cardLoading=!1):(g["Message"].warning("删除失败 后台无法连接"),t.cardLoading=!1)})}).catch(function(){g["Message"].warning("取消删除"),t.cardLoading=!1})},deleteFile:function(){var t=this;t.cardLoading=!0,this.$alert("此操作将永久删除该资源, 是否继续?","删除资源",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){n["l"](t.docList[t.currentItemClicked].id).then(function(e){200===e.data.status?(t.refreshResource(),g["Message"].success("删除成功"),t.cardLoading=!1):(g["Message"].warning("删除失败 后台无法连接"),t.cardLoading=!1)})}).catch(function(){g["Message"].warning("取消删除"),t.cardLoading=!1})},getKeyword:function(t,e){var i=this;i.cardLoading=!0,n["g"]("all",this.keyword,10).then(function(t){if(200===t.data.status){for(var s=[],o=0;o<t.data.data.length;++o){var a={value:t.data.data[o]};s.push(a)}e(s),i.cardLoading=!1}else g["Message"].error(t.data.msg)}).catch(function(t){console.log("getKeyword"),i.handleError(t),i.cardLoading=!1})},turnToSearch:function(t){this.$router.push({path:"/search",query:{keyword:t.value,resourceId:this.currentResource.id}})},turnToSearchByKeyword:function(){this.$router.push({path:"/search",query:{keyword:this.keyword,resourceId:this.currentResource.id}})},turnToPast:function(t){if(t!=this.path.length-1){var e=this.path[t];this.currentResource.id=e.id,this.currentResource.title=e.title,this.currentResource.type="dir";for(var i=this.path.length,s=t+1;s<i;++s)this.path.pop();this.itemDBClicked(-1),this.isCurrentFileLayout=!1}},callGroup:function(){this.$store.commit({type:"groupV"}),this.docList[this.currentItemClicked].showSmallIcons=!1},callChangeName:function(){this.menuShow=!1,-1!=this.currentItemClicked&&(this.docList[this.currentItemClicked].isEditStatus=!0)},stopEditName:function(){this.menuShow=!1,this.stopEditNameByIndex(this.currentItemClicked)},stopEditNameByIndex:function(t){console.log("stopEditName"),-1!=t&&0!=this.docList.length&&(this.docList[t].isEditStatus=!1)},isIndexClicked:function(t){return t==this.currentItemClicked},indexShowBeClick:function(t){this.currentItemClicked=t},callUpload:function(){this.$store.commit("uploadV")},handleError:function(t){console.log(t),g["Message"].warning(h["c"])},chooseSize:function(t){this.$store.commit("setwhatSizeCard",t),"small"===t?(this.sizeText="小图标",this.styleObject.width="101px",this.styleObject.height="140px",this.styleCardImages.width="81px",this.styleCardImages.height="81px"):"medium"===t?(this.sizeText="中图标",this.styleObject.width="151px",this.styleObject.height="195px",this.styleCardImages.width="130px",this.styleCardImages.height="130px"):"big"===t&&(this.sizeText="大图标",this.styleObject.width="202.5px",this.styleObject.height="260px",this.styleCardImages.width="182px",this.styleCardImages.height="182px")},changeWidth:function(t){this.docLeft.width=2==t?document.body.clientWidth-270-200+"px":.94*document.body.clientWidth-200+"px"},chooseSort:function(t){if(console.log(t),"created_time"==t){var e=this.docList.slice(1);this.orderCreated?e.sort(function(t,e){return t.created_time<e.created_time?1:-1}):e.sort(function(t,e){return t.created_time>e.created_time?1:-1}),this.orderCreated=!this.orderCreated,e.splice(0,0,this.docList[0]),this.docList=e}else if("modified_time"==t){var i=this.docList.slice(1);this.orderModified?i.sort(function(t,e){return t.modified_time<e.modified_time?1:-1}):i.sort(function(t,e){return t.modified_time>e.modified_time?1:-1}),this.orderModified=!this.orderModified,i.splice(0,0,this.docList[0]),this.docList=i}else if("size"==t){var s=this.docList.slice(1);this.orderSize?s.sort(function(t,e){return t.size<e.size?1:-1}):s.sort(function(t,e){return t.size>e.size?1:-1}),s.splice(0,0,this.docList[0]),this.docList=s,this.orderSize=!this.orderSize}else if("title"==t){var o=this.docList.slice(1);o.sort(function(t,e){return t.title<e.title?1:-1}),o.splice(0,0,this.docList[0]),this.docList=o}else"refreshResource"==t&&this.refreshResource()},mounseMove:function(t){this.mounseMoving=!this.mounseMoving,this.mounseMoving&&t>0?this.docList[t].showSmallIcons=!0:t>0&&(this.docList[t].showSmallIcons=!1)}}},Z=W,tt=(i("3002"),Object(v["a"])(Z,s,o,!1,null,null,null));e["default"]=tt.exports},"9b0f":function(t,e,i){t.exports=i.p+"img/docCnt.f3d0bdf4.png"},"9b15":function(t,e,i){t.exports=i.p+"img/file_svg.6715c993.svg"},"9d9a":function(t,e,i){},"9dac":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{directives:[{name:"show",rawName:"v-show",value:t.uploadVisiable,expression:"uploadVisiable"}],attrs:{width:"250px",closable:!1},on:{close:t.close}},[i("el-upload",{staticStyle:{"text-align":"center"},attrs:{drag:"",multiple:"",action:"","http-request":t.uploadProcess}},[i("i",{staticClass:"el-icon-upload"}),i("div",[t._v("\n\t\t\t将文件拖到此处，或\n\t\t\t"),i("span",{staticClass:"em"},[t._v("点击上传")])])])],1)},o=[],a=(i("7f7f"),i("28a5"),i("cebc")),n=i("2f62"),r=i("4ec3"),c=i("4eb9"),l=i("5c96"),d={name:"Upload",computed:Object(a["a"])({},Object(n["b"])(["uploadVisiable"])),props:["currentResourceId"],data:function(){return{}},methods:{beforeUpload:function(t,e){e.fileExtension=t.file.name.split(".")[t.file.name.split(".").length-1],this.policy(t,e)},policy:function(t,e){var i=this,s=JSON.stringify({ext:e.fileExtension,cur_id:this.currentResourceId});$.ajax({type:"post",url:r["k"]+"/files/url",data:s,async:!1,contentType:"application/json",xhrFields:{withCredentials:!0},crossDomain:!0,success:function(s){e.url=s.data.url,e.currentUserId=s.data.creator;var o=e.url.split("/");e.objectName="";for(var a=4;a<o.length-1;a++)e.objectName+=o[a]+"/";e.file_id=o[o.length-1].split("?")[0],e.objectName+=e.file_id,i.uploadFile(t,e)}})},uploadProcess:function(t){var e={url:"",objectName:"",file_id:"",fileExtension:"",currentUserId:""};this.beforeUpload(t,e)},uploadFile:function(t,e){var i=this,s=t.file,o=new XMLHttpRequest;o.upload.addEventListener("progress",function(e){var i=Math.round(100*e.loaded/e.total);i>50&&(i-=2),t.onProgress({percent:i})},!1),o.open("PUT",e.url,!0),o.send(s),o.onload=function(){200==o.status?(t.onSuccess("上传成功"),i.afterUpload(t,e)):i.handleError()}},afterUpload:function(t,e){var i=this,s=t.file,o=JSON.stringify({title:s.name.substring(0,s.name.lastIndexOf(".")),store_key:e.objectName,doc_id:this.currentResourceId,parentId:"",ext:e.fileExtension,creator:e.currentUserId,size:Math.floor(s.size.toFixed(1))});$.ajax({type:"post",url:r["k"]+"/files/"+e.file_id.substring(0,e.file_id.lastIndexOf(".")),data:o,contentType:"application/json",xhrFields:{withCredentials:!0},crossDomain:!0,success:function(t){i.$parent.itemDBClicked(-1),setTimeout(function(){i.close()},500)}})},close:function(){this.$store.commit({type:"uploadH"})},handleError:function(t){console.log(t),l["Message"].warning(c["c"])}}},u=d,p=(i("02e7"),i("2877")),h=Object(p["a"])(u,s,o,!1,null,null,null);e["a"]=h.exports},a4bb:function(t,e,i){t.exports=i("8aae")},b47a:function(t,e,i){t.exports=i.p+"img/file_video.b4f9a6b9.svg"},b4f0:function(t,e,i){"use strict";var s=i("3076"),o=i.n(s);o.a},bb4b:function(t,e,i){},bf90:function(t,e,i){var s=i("36c3"),o=i("bf0b").f;i("ce7e")("getOwnPropertyDescriptor",function(){return function(t,e){return o(s(t),e)}})},c9a6:function(t,e,i){t.exports=i.p+"img/back.e7d27d11.svg"},ce7e:function(t,e,i){var s=i("63b6"),o=i("584a"),a=i("294c");t.exports=function(t,e){var i=(o.Object||{})[t]||Object[t],n={};n[t]=e(i),s(s.S+s.F*a(function(){i(1)}),"Object",n)}},cebc:function(t,e,i){"use strict";var s=i("268f"),o=i.n(s),a=i("e265"),n=i.n(a),r=i("a4bb"),c=i.n(r),l=i("85f2"),d=i.n(l);function u(t,e,i){return e in t?d()(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function p(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},s=c()(i);"function"===typeof n.a&&(s=s.concat(n()(i).filter(function(t){return o()(i,t).enumerable}))),s.forEach(function(e){u(t,e,i[e])})}return t}i.d(e,"a",function(){return p})},d5c0:function(t,e,i){t.exports=i.p+"img/doc.03a2d945.svg"},d7ea:function(t,e,i){t.exports=i.p+"img/file_exe.210dd5c3.svg"},dc18:function(t,e,i){},e265:function(t,e,i){t.exports=i("ed33")},e384:function(t,e,i){t.exports=i.p+"img/file_word_office.77f5a9e8.svg"},ed33:function(t,e,i){i("014b"),t.exports=i("584a").Object.getOwnPropertySymbols},fde4:function(t,e,i){i("bf90");var s=i("584a").Object;t.exports=function(t,e){return s.getOwnPropertyDescriptor(t,e)}}}]);
//# sourceMappingURL=chunk-6dbceb88.fd1c7e73.js.map