(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d0ceb1dc"],{"082b":function(t,e,a){"use strict";var i=a("b29f"),r=a.n(i);r.a},"0d97":function(t,e,a){"use strict";var i=a("fb48"),r=a.n(i);r.a},"13eb":function(t,e,a){"use strict";var i=a("69e9"),r=a.n(i);r.a},"456d":function(t,e,a){var i=a("4bf8"),r=a("0d58");a("5eda")("keys",function(){return function(t){return r(i(t))}})},"4eb9":function(t,e,a){"use strict";a.d(e,"g",function(){return i}),a.d(e,"a",function(){return r}),a.d(e,"c",function(){return s}),a.d(e,"d",function(){return n}),a.d(e,"f",function(){return o}),a.d(e,"h",function(){return c}),a.d(e,"e",function(){return l}),a.d(e,"i",function(){return d}),a.d(e,"j",function(){return u}),a.d(e,"b",function(){return p});var i=[{label:"红",value:"红",color:"red"},{label:"黄",value:"黄",color:"yellow"},{label:"蓝",value:"蓝",color:"blue"},{label:"绿",value:"绿",color:"green"}],r=[{title:"新建首次暂养活动",activityType:"首次暂养",typeId:"A1",idx:0},{title:"新建暂养巡检活动",activityType:"暂养巡检",typeId:"A2",idx:1},{title:"新建首次回播活动",activityType:"首次回播",typeId:"A3",idx:2},{title:"新建回播巡检活动",activityType:"回播巡检",typeId:"A4",idx:3}],s=[{label:"B2",value:"B2",color:"#E1EAAE"},{label:"B3",value:"B3",color:"#C1DA83"},{label:"B4",value:"B4",color:"#899D52"},{label:"B5",value:"B5",color:"#586832"},{label:"B6",value:"B6",color:"#223017"},{label:"C2",value:"C2",color:"#F9D2BC"},{label:"C3",value:"C3",color:"#F1915E"},{label:"C4",value:"C4",color:"#D86430"},{label:"C5",value:"C5",color:"#8A3820"},{label:"C6",value:"C6",color:"#510D0C"},{label:"D2",value:"D2",color:"#F7DA9F"},{label:"D3",value:"D3",color:"#F2A04C"},{label:"D4",value:"D4",color:"#CC7D3F"},{label:"D5",value:"D5",color:"#8F4124"},{label:"D6",value:"D6",color:"#73381C"},{label:"E2",value:"E2",color:"#EEEDA4"},{label:"E3",value:"E3",color:"#E2C96F"},{label:"E4",value:"E4",color:"#AC913D"},{label:"E5",value:"E5",color:"#764922"},{label:"E6",value:"E6",color:"#4C200E"}],n={B2:"#E1EAAE",B3:"#C1DA83",B4:"#899D52",B5:"#586832",B6:"#223017",C2:"#F9D2BC",C3:"#F1915E",C4:"#D86430",C5:"#8A3820",C6:"#510D0C",D2:"#F7DA9F",D3:"#F2A04C",D4:"#CC7D3F",D5:"#8F4124",D6:"#73381C",E2:"#EEEDA4",E3:"#E2C96F",E4:"#AC913D",E5:"#764922",E6:"#4C200E"},o=[{url:"http://dayy.xyz/resource/example/1.png",size:"223.4",time:"2018.4.10",name:"A1-大鹏大澳湾-2018090410-01"},{url:"http://dayy.xyz/resource/example/2.jpg",size:"235.6",time:"2018.5.09",name:"A2-大鹏大澳湾-2018050909-01"},{url:"http://dayy.xyz/resource/example/3.jpg",size:"240.2",time:"2018.6.09",name:"A2-大鹏大澳湾-2018060910-01"},{url:"http://dayy.xyz/resource/example/4.jpg",size:"242.5",time:"2018.6.17",name:"A2-大鹏大澳湾-2018061710-01"},{url:"http://dayy.xyz/resource/example/5.jpg",size:"243.2",time:"2018.7.01",name:"A2-大鹏大澳湾-2018070110-01"},{url:"http://dayy.xyz/resource/example/6.jpg",size:"250.4",time:"2018.7.28",name:"A2-大鹏大澳湾-2018072810-01"},{url:"http://dayy.xyz/resource/example/7.jpg",size:"254.6",time:"2018.11.17",name:"A2-大鹏大澳湾-2018111710-01"},{url:"http://dayy.xyz/resource/example/8.jpg",size:"260.3",time:"2018.12.29",name:"A2-大鹏大澳湾-2018122910-01"},{url:"http://dayy.xyz/resource/example/9.jpg",size:"268.4",time:"2019.3.02",name:"A2-大鹏大澳湾-2019030210-01"},{url:"http://dayy.xyz/resource/example/10.jpg",size:"278.5",time:"2019.3.17",name:"A3-大鹏大澳湾-2019031710-01"},{url:"http://dayy.xyz/resource/example/11.jpg",size:"279.1",time:"2019.4.06",name:"A4-大鹏大澳湾-2019040610-01"},{url:"http://dayy.xyz/resource/example/12.jpg",size:"280.5",time:"2019.6.02",name:"A4-大鹏大澳湾-2019060210-01"},{url:"http://dayy.xyz/resource/example/13.jpg",size:"284.6",time:"2019.6.22",name:"A4-大鹏大澳湾-2019062210-01"},{url:"http://dayy.xyz/resource/example/14.jpg",size:"288.1",time:"2019.8.24",name:"A4-大鹏大澳湾-2019082410-01"}],c=[{id:137,title:"算法",desc:"......"}],l=[{key:"jpg",doc_count:50},{key:"png",doc_count:30},{key:"gif",doc_count:20}],d=[{key:"全部",doc_count:100},{key:"三天内",doc_count:6},{key:"一周内",doc_count:15},{key:"一个月内",doc_count:23},{key:"三个月内",doc_count:25},{key:"半年内",doc_count:27},{key:"一年内",doc_count:50},{key:"一年前",doc_count:50}],u=[{value:"全部",command:"all"},{value:"图片",command:"image"},{value:"文档",command:"doc"},{value:"视频",command:"video"},{value:"音频",command:"audio"},{value:"其他文件",command:"others"},{value:"全文搜索",command:"doc_content"}],p=[{id:6,title:"科技"},{id:1,title:"文学"},{id:2,title:"流行"},{id:3,title:"文化"},{id:4,title:"生活"},{id:5,title:"经管"}]},"4fa4":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAgCAYAAAB3j6rJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAIJSURBVFhH7ZZZi8IwEMen9b598kFQUFB89ft/EAV9UPBAFDzwvnb3H5Klm7XtpEV2H/qDUJ2kk38mM0mtjy/oH2DL558TCdGJhOiEFnI+n2k8Hst/wQkl5PF40GAwoNVqRafTSVqDEUrIYrEQAp7PJ00mE2kNRigh8/mcYrEY2bZNm82GDoeD7DEnsJDhcCgiYVnWdxuNRrLXnEBCkKC73U5EQgEhsK/Xa2kxw/OuuV6vdL/fRcPqMfl2uxUTQgQmdwJXsOXzecrlcpTNZimZTFI8HhcN2+iGq5DZbEbL5VJUBpqaxNlegXGqQbxTRCaToVqtJsTpuG4NVoWIwBlWD0cqMd1EAPSp8YlEQthut5uorkKh8FIEcBVSLBap1Wp9r85rci/U+/V6nSqVirT+xvd7BPnQ7/dFnjiTkwOiicg0m00qlUrS+hpfz+l0mjqdjvgNx1zU+hqNhq8IwP5CQ0R6vR5dLhffyMAlthKRKJfL0uoNO9bIfJQjFySlyXi2EETC5GJDxaFxYQuBU5ShXj3YBuSOvsPYSoznwhaCQ83pGBPDBpDQEKgffCaXIFuIs2KUKCRiu90WVYUnDizYlUCTrWRXDW5bfABh9ShHHNVIYJ3j8UjT6VTcSThDut2u7PGGLQT3zn6/p2q1SqlUSlrdwS2MiGA8B7aQd8POkXcTCdGJhPyE6BOe9CfjJbhOtAAAAABJRU5ErkJggg=="},"504c":function(t,e,a){var i=a("0d58"),r=a("6821"),s=a("52a7").f;t.exports=function(t){return function(e){var a,n=r(e),o=i(n),c=o.length,l=0,d=[];while(c>l)s.call(n,a=o[l++])&&d.push(t?[a,n[a]]:n[a]);return d}}},"5eda":function(t,e,a){var i=a("5ca1"),r=a("8378"),s=a("79e5");t.exports=function(t,e){var a=(r.Object||{})[t]||Object[t],n={};n[t]=e(a),i(i.S+i.F*s(function(){a(1)}),"Object",n)}},6714:function(t,e,a){"use strict";var i=a("d3a9"),r=a.n(i);r.a},"69e9":function(t,e,a){},"75db":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:!t.isShowDetail,expression:"!isShowDetail"}],staticClass:"dayActivityRoot"},[a("div",{directives:[{name:"show",rawName:"v-show",value:t.noActivity,expression:"noActivity"}],staticClass:"empty"},[t._v("当前日期没有活动")]),a("div",{directives:[{name:"show",rawName:"v-show",value:!t.noActivity,expression:"!noActivity"}],staticClass:"dayActivity"},[a("div",{staticClass:"activityNameList"},[a("span",[t._v("当日活动列表")]),t._l(t.activityNameList,function(e,i){return a("div",{key:i,staticClass:"listBoard"},[t._l(e,function(e,r){return a("div",{key:r,staticClass:"listItem",class:i===t.action_1&&r===t.action_2?"activeItem":"",on:{click:function(a){return t.showActivityInfo(e,i,r)}}},[t._v(t._s(Object.keys(e)[0]))])}),e.length<4?a("div",{style:{textAlign:"right",marginTop:"0.3rem"}},[a("i",{staticClass:"el-icon-circle-plus-outline",on:{click:function(a){return t.addActivity(e,i)}}})]):t._e()],2)}),a("div",{style:{textAlign:"center",marginTop:"0.3rem",width:"100%",borderTop:"1.2px solid #ACACAC"}},[a("i",{staticClass:"el-icon-circle-plus",on:{click:t.addDivingWork}})])],2),t.activityInfo?a("div",{staticClass:"infoForm"},[a("ActivityInfoVue",{ref:"child",attrs:{activityInfo:t.activityInfo}})],1):t._e(),a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.recordLoading,expression:"recordLoading"}],staticClass:"fileArea",attrs:{"element-loading-spinner":"loadingSvg"}},[t._l(t.paginations.currentCoralList,function(e,i){return a("div",{key:i,staticClass:"list"},[a("file-item",{attrs:{showActivityData:e},on:{click:function(a){return t.toDetail(t.selectActivity,e)}}})],1)}),a("div",{directives:[{name:"show",rawName:"v-show",value:t.paginations.currentCoralList.length,expression:"paginations.currentCoralList.length"}],staticClass:"page"},[a("el-pagination",{attrs:{"hide-on-single-page":"","current-page":t.paginations.page_index,layout:t.paginations.layout,total:t.paginations.total,"page-size":t.paginations.page_size},on:{"current-change":t.handleCurrentChange}})],1)],2)]),a("el-dialog",{attrs:{title:"新建残枝作业",width:"600px",visible:t.showAdd,"append-to-body":"","show-close":!1},on:{"update:visible":function(e){t.showAdd=e}}},[a("el-form",{attrs:{model:t.newWorkForm}},[a("el-form-item",[a("el-col",{attrs:{span:2}},[t._v(" ")]),a("el-col",{style:{textAlign:"center"},attrs:{span:6}},[a("span",[t._v("日期")])]),a("el-col",{attrs:{span:16}},[a("p",{style:{color:"gray",fontSize:"1.1rem"}},[t._v(t._s(t.newWorkForm.time))])])],1),a("el-form-item",[a("el-col",{attrs:{span:2}},[t._v(" ")]),a("el-col",{style:{textAlign:"center"},attrs:{span:6}},[a("span",[t._v("区域")])]),a("el-col",{attrs:{span:16}},[a("p",{style:{color:"gray",fontSize:"1.1rem"}},[t._v(t._s(t.newWorkForm.address))])])],1),a("el-form-item",[a("el-col",{attrs:{span:2}},[t._v(" ")]),a("el-col",{style:{textAlign:"center"},attrs:{span:6}},[a("span",[t._v("残枝作业时间")])]),a("el-col",{attrs:{span:16}},[a("el-input",{style:{width:"70%"},attrs:{type:"number",min:"1",max:"24",placeholder:"请输入1-24之间的整数值",size:"mini"},model:{value:t.newWorkForm.selectHour,callback:function(e){t.$set(t.newWorkForm,"selectHour",t._n(e))},expression:"newWorkForm.selectHour"}})],1)],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"danger",disabled:t.selectHourValid},on:{click:t.submitNewWork}},[t._v("确定")]),a("el-button",{on:{click:function(e){t.showAdd=!1}}},[t._v("取消")])],1)],1)],1),t.isShowDetail?a("div",{staticStyle:{"margin-left":"16vw","margin-top":"5.5vw"}},[a("div",{staticClass:"measuring",staticStyle:{"margin-left":"2rem"},on:{click:t.selectShow}},[t._v("返回")]),a("recordDetails",{attrs:{recordObj:t.oneRecordData}})],1):t._e()])},r=[],s=(a("7f7f"),a("ac4d"),a("8a81"),a("456d"),a("28a5"),a("ac6a"),a("96cf"),a("3b8d")),n=a("cebc"),o=a("c1df"),c=a.n(o),l=a("e050"),d=a("2f62"),u=a("4ec3"),p=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fileItem",on:{click:function(e){return t.$emit("click")}}},[a("div",{staticClass:"imgArea"},[a("el-image",{staticStyle:{width:"6rem",height:"4.5rem"},attrs:{src:t.showActivityData.imgUrl,fit:"fill",lazy:""}})],1),a("div",{staticClass:"information"},[a("span",[t._v("珊瑚编号："+t._s(t.showActivityData.coralNum))]),a("span",[t._v("属种："+t._s(t.showActivityData.species))]),a("span",[t._v("状态："+t._s(t.showActivityData.state))])]),a("span",{staticClass:"detail"},[t._v("详情 >")])])},m=[],h={props:{showActivityData:Object},data:function(){return{}}},v=h,f=(a("13eb"),a("2877")),g=Object(f["a"])(v,p,m,!1,null,"a99c107a",null),b=g.exports,y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"infoRoot"},[a("div",{staticClass:"bottonArea"},[t.ifEdit?a("div",[a("el-button",{attrs:{type:"danger",round:"",size:"mini"},on:{click:t.submitEdit}},[t._v("提交")]),a("el-button",{attrs:{type:"success",round:"",size:"mini"},on:{click:t.editActivity}},[t._v("取消")])],1):a("div",[a("i",{staticClass:"el-icon-s-operation",on:{click:t.editActivity}}),a("el-popover",{attrs:{placement:"top",trigger:"click"},model:{value:t.visible1,callback:function(e){t.visible1=e},expression:"visible1"}},[a("p",[t._v("确定删除该活动？")]),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){t.visible1=!1}}},[t._v("否")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.visible1=!1,t.deleteActivity()}}},[t._v("是")])],1),a("span",{staticClass:"el-icon-delete",style:{cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})])],1)]),a("div",{staticClass:"infoBoard"},[a("h2",{style:{color:"#FF6B6B"}},[t._v("活动详情")]),a("div",{staticClass:"infoBody"},[a("el-col",{attrs:{span:3}},[t._v(" ")]),a("el-col",{attrs:{span:18}},t._l(t.formList,function(e,i){return a("div",{key:i,staticClass:"formItem"},[a("el-col",{attrs:{span:6}},[a("span",[t._v(t._s(e.title))])]),a("el-col",{attrs:{span:3}},[t._v(" ")]),a("el-col",{attrs:{span:15}},[/参与人员/.test(e.title)&&t.ifEdit?a("span",[a("el-input",{ref:"input",refInFor:!0,attrs:{placeholder:"请输入",size:"mini"},model:{value:t.members,callback:function(e){t.members=e},expression:"members"}})],1):/备注/.test(e.title)&&t.ifEdit?a("span",[a("el-input",{style:{marginBottom:"1vw"},attrs:{type:"textarea",placeholder:"请输入",autosize:{minRows:4,maxRows:10}},model:{value:t.remarks,callback:function(e){t.remarks=e},expression:"remarks"}})],1):a("span",[t._v(t._s(e.data))])]),a("br")],1)}),0),a("el-col",{attrs:{span:3}},[t._v(" ")])],1)])])},w=[],A=(a("8615"),{props:{activityInfo:{type:Object}},data:function(){return{ifEdit:!1,members:"",remarks:"",formTitle:[{title:"活动编号",data:""},{title:"活动时间",data:""},{title:"参与人员",data:""},{title:"活动类型",data:""},{title:"采集区域",data:""},{title:"珊瑚数量",data:""},{title:"品种数量",data:""},{title:"备注",data:""}],visible1:!1}},computed:{formList:function(){var t=this.formTitle,e=Object.values(this.activityInfo),a=!0,i=!1,r=void 0;try{for(var s,n=t[Symbol.iterator]();!(a=(s=n.next()).done);a=!0)for(var o=s.value,c=0,l=e;c<l.length;c++){var d=l[c];o.data=d,e.shift(d);break}}catch(u){i=!0,r=u}finally{try{a||null==n.return||n.return()}finally{if(i)throw r}}return t}},watch:{"activityInfo.activityNum":function(){this.members=this.activityInfo.totalMembers,this.remarks=this.activityInfo.remarks}},methods:{changeFocus:function(){this.$nextTick(function(){this.$refs.input[0].focus()})},editActivity:function(){this.ifEdit=!this.ifEdit,this.ifEdit&&this.changeFocus()},setEditF:function(){this.ifEdit=!1},deleteActivity:function(){this.$message.warning("该功能还在开发中，敬请期待")},submitEdit:function(){var t=this,e=this;console.log(this.activityInfo);var a=l["c"];a.Jobs[0].Object.ExtendData.participants=e.members,a.Jobs[0].Object.ExtendData.comment=e.remarks,a.Jobs[0].MasterSpaId=e.activityInfo.czzy_spaid,a.Jobs[0].Object.SpaId=e.activityInfo.czhd_spaid,a.Jobs[0].Object.ExtendData.czzy_spaid=e.activityInfo.czzy_spaid,a.Jobs[0].Object.ExtendData.timestamp=e.activityInfo.activityTime,a.Jobs[0].Object.ExtendData.type=e.activityInfo.activityType,a.Jobs[0].Object.ExtendData.code=e.activityInfo.code,Object(u["h"])(a,"/tree/update").then(function(e){200===e.data.status&&e.data.response?t.$parent.getActivity():t.$message.error("修改失败")}),this.editActivity()}},mounted:function(){this.members=this.activityInfo.totalMembers,this.remarks=this.activityInfo.remarks}}),x=A,k=(a("d987"),Object(f["a"])(x,y,w,!1,null,"2804fffa",null)),E=k.exports,I=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"all-infor"},[i("div",{staticClass:"edit-img"},[i("div",{staticClass:"measuring",staticStyle:{"margin-left":"42rem",background:"#3FC1CB"},on:{click:t.beforEdit}},[i("span",{directives:[{name:"show",rawName:"v-show",value:t.ifEdit,expression:"ifEdit"}]},[t._v("取消")]),t._v("编辑\n    ")]),i("el-popover",{attrs:{placement:"top",trigger:"click"},model:{value:t.visible1,callback:function(e){t.visible1=e},expression:"visible1"}},[i("p",[t._v("确定删除该记录？")]),i("div",{staticStyle:{"text-align":"right",margin:"0"}},[i("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){t.visible1=!1}}},[t._v("否")]),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.visible1=!1,t.delRecord()}}},[t._v("是")])],1),i("div",{staticClass:"measuring",staticStyle:{"margin-left":"2rem"},attrs:{slot:"reference"},slot:"reference"},[t._v("删除")])])],1),i("div",{staticClass:"inforSwiper"},[i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.recordLoading,expression:"recordLoading"}],staticClass:"mian-size",attrs:{"element-loading-spinner":"loadingSvg"}},[i("el-row",[i("el-col",[i("div",[i("div",{staticStyle:{display:"flex"}},[i("span",{directives:[{name:"show",rawName:"v-show",value:1==t.isStart,expression:"isStart==1"}]},[i("img",{attrs:{src:a("adfd"),width:"80%",alt:""}})]),i("span",{directives:[{name:"show",rawName:"v-show",value:1!=t.isStart,expression:"isStart!=1"}],attrs:{slot:"reference"},slot:"reference"},[i("img",{attrs:{src:a("4fa4"),width:"80%",alt:""}})]),i("span",{staticClass:"record-name"},[t._v(t._s(t.coralName))])]),i("div",{},t._l(t.recordInfor,function(e,a){return i("div",{key:a,staticStyle:{"margin-bottom":"5px"}},[i("span",{staticStyle:{color:"rgb(12, 12, 12)","font-weight":"600"}},[t._v(t._s(e.title)+"：")]),i("span",[/状态/.test(e.title)&&t.ifEdit?i("span",[i("el-select",{staticStyle:{width:"60%",height:"80%"},attrs:{placeholder:"请选择"},model:{value:t.statusNew,callback:function(e){t.statusNew=e},expression:"statusNew"}},[i("el-option",{attrs:{label:"良好",value:"良好"}}),i("el-option",{attrs:{label:"部分白化",value:"部分白化"}}),i("el-option",{attrs:{label:"部分死亡",value:"部分死亡"}}),i("el-option",{attrs:{label:"死亡",value:"死亡"}}),i("el-option",{attrs:{label:"失踪",value:"失踪"}})],1)],1):/尺寸/.test(e.title)&&t.ifEdit?i("span",[i("el-input",{ref:"input",refInFor:!0,staticStyle:{width:"50%"},attrs:{placeholder:"请输入",size:"mini"},model:{value:t.areaNew,callback:function(e){t.areaNew=e},expression:"areaNew"}})],1):/高度/.test(e.title)&&t.ifEdit?i("span",[i("el-input",{ref:"input",refInFor:!0,staticStyle:{width:"50%"},attrs:{placeholder:"请输入",size:"mini"},model:{value:t.heightNew,callback:function(e){t.heightNew=e},expression:"heightNew"}})],1):/备注/.test(e.title)&&t.ifEdit?i("span",[i("el-input",{staticStyle:{width:"100%",display:"flex"},style:{marginBottom:"1vw"},attrs:{type:"textarea",placeholder:"请输入",autosize:{minRows:2,maxRows:10}},model:{value:t.commentNew,callback:function(e){t.commentNew=e},expression:"commentNew"}})],1):/颜色/.test(e.title)&&t.ifEdit?i("span",[i("el-select",{staticStyle:{width:"40%",height:"80%"},attrs:{placeholder:"浅色"},model:{value:t.lightest_colorNew,callback:function(e){t.lightest_colorNew=e},expression:"lightest_colorNew"}},t._l(t.colorList,function(e,a){return i("el-option",{key:a,attrs:{label:e.label,value:e.value}},[i("span",[t._v(t._s(e.label))]),i("span",{staticClass:"colorCircle",style:{backgroundColor:e.color}})])}),1),i("el-select",{staticStyle:{width:"40%",height:"80%"},attrs:{placeholder:"深色"},model:{value:t.darkest_colorNew,callback:function(e){t.darkest_colorNew=e},expression:"darkest_colorNew"}},t._l(t.colorList,function(e,a){return i("el-option",{key:a,attrs:{label:e.label,value:e.value}},[i("span",[t._v(t._s(e.label))]),i("span",{staticClass:"colorCircle",style:{backgroundColor:e.color}})])}),1)],1):i("span",[t._v(t._s(e.msg))])]),/颜色/.test(e.title)&&!t.ifEdit?i("span",[i("span",{staticClass:"color-block",style:"background-color:"+e.color}),i("span",{staticStyle:{margin:"0 0.5rem"}},[t._v("—")]),i("span",[t._v(t._s(e.msg2))]),i("span",{staticClass:"color-block",style:"background-color:"+e.color2})]):t._e(),/尺寸|高度/.test(e.title)&&e.msg?i("span",[t._v("\n                  cm\n                  "),/尺寸/.test(e.title)?i("sup",[t._v("2")]):t._e()]):t._e(),i("div",{directives:[{name:"show",rawName:"v-show",value:a!=t.recordInfor.length-1,expression:"index!=recordInfor.length-1"}],staticClass:"bottom-line"})])}),0)])])],1),i("div",{directives:[{name:"show",rawName:"v-show",value:t.ifEdit,expression:"ifEdit"}],staticStyle:{display:"flex","justify-content":"center"},on:{click:t.editRecord}},[i("div",{staticClass:"measuring",staticStyle:{background:"#3FC1CB"}},[t._v("确认编辑")])])],1),i("div",{staticStyle:{width:"40rem"}},[i("swiper",{attrs:{imgUrl:t.theRecordImgArr,imgHeight:9.5,imgWidth:10},on:{"update:imgUrl":function(e){t.theRecordImgArr=e},"update:img-url":function(e){t.theRecordImgArr=e},selectOneImg:t.chooseSwiperImg}}),i("div",{staticClass:"boderImg"},[i("img",{staticClass:"showOneImg",attrs:{width:"100%",src:t.imgUrlFormSwiper,alt:""}})]),i("upload",{directives:[{name:"show",rawName:"v-show",value:t.ifEdit,expression:"ifEdit"}],attrs:{masterid:t.recordObj.jlId,czda_spaid:t.recordObj.daId},on:{createImg:t.imgArrPush,"update:masterid":function(e){return t.$set(t.recordObj,"jlId",e)},"update:czda_spaid":function(e){return t.$set(t.recordObj,"daId",e)}}})],1)])])},_=[],D=a("91b0"),j=a("4eb9"),C=a("9dac"),O={components:{swiper:D["a"],upload:C["a"]},props:{recordObj:Object},data:function(){return{recordInfor:[{title:"活动编号",msg:""},{title:"属种",msg:"盔型珊瑚科目"},{title:"状态",msg:"部分白化"},{title:"阶段类型",msg:"回播"},{title:"暂养区域",msg:"A-宇宙号-1区"},{title:"颜色",msg:"D2",color:"rgb(247,218,159)",msg2:"D5",color2:"rgb(143,65,36)"},{title:"时间",msg:"2018.9.10.10"},{title:"尺寸",msg:"5.66"},{title:"高度",msg:""},{title:"备注",msg:"有松动现象，已经重新加固，污损生物已清除。"}],imgUrlFormSwiper:"",key:0,theRecordImgArr:[],inforLoading:!1,isStart:1,coralName:"",visible1:!1,ifEdit:!1,commentNew:"",heightNew:"",areaNew:"",statusNew:"",lightest_colorNew:"",darkest_colorNew:"",recordLoading:!1,colorList:[]}},watch:{},mounted:function(){console.log(this.recordObj),this.colorList=j["c"];var t=!0,e=!1,a=void 0;try{for(var i,r=this.recordObj.imgUrlArr[Symbol.iterator]();!(t=(i=r.next()).done);t=!0){var s=i.value;this.theRecordImgArr.push({url:s})}}catch(n){e=!0,a=n}finally{try{t||null==r.return||r.return()}finally{if(e)throw a}}this.imgUrlFormSwiper=this.recordObj.imgUrlArr[0],this.coralName=this.recordObj.coralNum,this.isStart=this.recordObj.daMsg.starred,this.madeForm()},methods:{madeForm:function(){this.recordInfor[0].msg=this.recordObj.actiName,this.recordInfor[1].msg=this.recordObj.species,this.recordInfor[2].msg=this.recordObj.state;var t=Object.keys(this.recordObj.actiName)[0].split("-"),e={A1:"首次暂养",A2:"暂养巡检",A3:"首次回播",A4:"回播巡检"};this.recordInfor[4].msg=e[t[0]];var a=this.recordObj.ExtendData.lightest_color,i=this.recordObj.ExtendData.darkest_color;this.recordInfor[5].msg=a,this.recordInfor[5].msg2=i,this.recordInfor[5].color=j["d"][a],this.recordInfor[5].color2=j["d"][i],this.recordInfor[6].msg=this.recordObj.ExtendData.timestamp,console.log(this.recordObj.ExtendData),this.recordInfor[7].msg=this.recordObj.ExtendData.area,this.recordInfor[8].msg=this.recordObj.ExtendData.height,this.recordInfor[9].msg=this.recordObj.ExtendData.comment},beforEdit:function(){this.ifEdit||(this.commentNew=this.recordInfor[9].msg,this.heightNew=this.recordInfor[8].msg,this.areaNew=this.recordInfor[7].msg,this.statusNew=this.recordInfor[2].msg,this.lightest_colorNew=this.recordInfor[5].msg,this.darkest_colorNew=this.recordInfor[5].msg2),this.ifEdit=!this.ifEdit},chooseSwiperImg:function(t){this.imgUrlFormSwiper=t},editRecord:function(){var t=this,e=this;e.recordLoading=!0;var a=l["u"];a.Jobs[0].Object.ExtendData.czhd_spaid=e.recordObj.ExtendData.czhd_spaid,a.Jobs[0].Object.ExtendData.czda_spaid=e.recordObj.daId,a.Jobs[0].MasterSpaId=e.recordObj.ExtendData.czhd_spaid,a.Jobs[0].Object.SpaId=e.recordObj.jlId,a.Jobs[0].Object.ExtendData.status=this.statusNew,a.Jobs[0].Object.ExtendData.lightest_color=this.lightest_colorNew,a.Jobs[0].Object.ExtendData.darkest_color=this.darkest_colorNew,a.Jobs[0].Object.ExtendData.comment=this.commentNew,a.Jobs[0].Object.ExtendData.height=this.heightNew,a.Jobs[0].Object.ExtendData.area=this.areaNew,u["h"](a,"/tree/update").then(function(a){200===a.data.status&&a.data.response&&(t.$message.success("成功修改记录"),t.recordInfor[9].msg=a.data.response.CZJL.objects[0].principle.ExtendData.comment,t.recordInfor[8].msg=a.data.response.CZJL.objects[0].principle.ExtendData.height,t.recordInfor[7].msg=a.data.response.CZJL.objects[0].principle.ExtendData.area,t.recordInfor[2].msg=a.data.response.CZJL.objects[0].principle.ExtendData.status,t.recordInfor[5].msg=a.data.response.CZJL.objects[0].principle.ExtendData.lightest_color,t.recordInfor[5].msg2=a.data.response.CZJL.objects[0].principle.ExtendData.darkest_color,e.recordLoading=!1,t.ifEdit=!1)})},delRecord:function(){this.$message.warning("该功能还在开发中，敬请期待")},imgArrPush:function(t){var e=this;u["h"]({file_id:t},"/file/get").then(function(t){200===t.data.status&&t.data.response&&e.theRecordImgArr.push({url:t.data.response.url})})}}},N=O,S=(a("b82e"),Object(f["a"])(N,I,_,!1,null,"3b14718a",null)),z=S.exports,J={components:{ActivityInfoVue:E,"file-item":b,recordDetails:z},data:function(){return{activityNameList:[],selectHourValid:!0,selectActivity:"",activityInfo:{activityNum:"",activityTime:"",totalMembers:"",activityType:"",gatherArea:"",coralQuantity:0,varietyQuantity:0,remarks:"-"},coralList:[],activityFirstIndex:0,action_1:0,action_2:0,showAdd:!1,newWorkForm:{},paginations:{currentCoralList:[],page_index:1,total:0,page_size:4,layout:"prev, pager, next"},activityArr:[],noActivity:!1,recordData:[],allMsg:[],imgId:[],recordLoading:!0,isShowDetail:!1,oneRecordData:{}}},computed:Object(n["a"])({},Object(d["d"])(["workIdArr","currentZD"]),Object(d["b"])({currentZD_data:"getCurrentZD_data"}),{getSelectHour:function(){var t;return t=parseInt(this.newWorkForm.selectHour)>0&&parseInt(this.newWorkForm.selectHour)<10?"0"+this.newWorkForm.selectHour:this.newWorkForm.selectHour,t}}),watch:{workIdArr:function(){this.getActivity()},"newWorkForm.selectHour":function(){this.newWorkForm.selectHour&&(parseInt(this.newWorkForm.selectHour)>0&&parseInt(this.newWorkForm.selectHour)<=24?this.selectHourValid=!1:this.selectHourValid=!0)}},methods:Object(n["a"])({},Object(d["c"])(["setCalendarShowActivity","setActivityList"]),{showActivityInfo:function(t,e,a){this.recordLoading=!0,this.selectActivity=t,this.$refs.child.setEditF();var i=this.activityArr[e][a];this.activityInfo.activityNum=i.principle.ExtendData.activity_number,this.activityInfo.activityTime=i.principle.ExtendData.timestamp,this.activityInfo.totalMembers=i.principle.ExtendData.participants,this.activityInfo.activityType=i.principle.ExtendData.type,this.activityInfo.gatherArea=this.$route.query.address,this.activityInfo.coralQuantity="",this.activityInfo.varietyQuantity="",this.activityInfo.remarks=i.principle.ExtendData.comment,this.activityInfo.czzy_spaid=i.principle.ExtendData.czzy_spaid,this.activityInfo.code=i.principle.ExtendData.code,this.activityInfo.czhd_spaid=i.principle.SpaId,this.activityFirstIndex=a,this.action_1=e,this.action_2=a,this.getAllRecord(i.principle.SpaId),this.coralList=[],this.paginations.currentCoralList=[]},makeCard:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,a,i,r=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=this,e.allMsg=[],a=regeneratorRuntime.mark(function t(a){var i,s,n,o,c,d;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return i=r.recordData[a].principle.SpaId,s=r.recordData[a].principle.ExtendData.czda_spaid,e.allMsg[a]={},e.allMsg[a].jlId=i,e.allMsg[a].daId=s,e.allMsg[a].daMsg="",e.allMsg[a].imgUrlArr=[],e.allMsg[a].imgUrl="",e.allMsg[a].imgId=[],e.allMsg[a].ExtendData=r.recordData[a].principle.ExtendData,n=l["g"],n.Jobs[0].CZDASpaId=s,n.Jobs[0].Where[0].Operator.Value=s,t.next=15,Object(u["h"])(n,"/tree/select").then(function(t){200===t.data.status&&t.data.response&&(e.allMsg[a].daMsg=e.Refactoring(t.data.response.CZDA.objects[0]))});case 15:return o=l["m"],o.Jobs[0].MasterSpaId=i,t.next=19,Object(u["h"])(o,"/tree/select").then(function(t){if(200===t.data.status&&t.data.response)for(var i=t.data.response.CZZP.objects,r=0;r<i.length;++r){var s=i[r].principle.ExtendFileData.file_id;e.allMsg[a].imgId.push(s)}});case 19:c=0;case 20:if(!(c<e.allMsg[a].imgId.length)){t.next=28;break}if(d=e.allMsg[a].imgId[c],!d){t.next=25;break}return t.next=25,Object(u["h"])({file_id:d},"/file/get").then(function(t){200===t.data.status&&t.data.response&&e.allMsg[a].imgUrlArr.push(t.data.response.url)});case 25:c++,t.next=20;break;case 28:e.allMsg[a].imgUrl=e.allMsg[a].imgUrlArr[0],e.allMsg[a].coralNum=e.allMsg[a].daMsg.title,e.allMsg[a].species=e.allMsg[a].daMsg.type,e.allMsg[a].state=r.recordData[a].principle.ExtendData.status,console.log("记录数据",a);case 33:case"end":return t.stop()}},t)}),i=0;case 4:if(!(i<this.recordData.length)){t.next=9;break}return t.delegateYield(a(i),"t0",6);case 6:i++,t.next=4;break;case 9:e.coralList=e.allMsg,this.setpaginations(1,this.paginations.page_size);case 11:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),handleCurrentChange:function(t){this.setpaginations(t,this.paginations.page_size)},toDetail:function(t,e){this.oneRecordData=e,this.oneRecordData.actiName=t,this.selectShow()},selectShow:function(){this.isShowDetail=!this.isShowDetail},setpaginations:function(t,e){this.paginations.total=this.coralList.length,this.paginations.currentCoralList=this.coralList.slice((t-1)*e,t*e),this.recordLoading=!1},addDivingWork:function(){this.newWorkForm={time:c()(this.$route.query.time,"YYYYMMDD").format("YYYY年MM月DD日"),address:this.$route.query.address,selectHour:""},this.showAdd=!0},addActivity:function(t,e){var a=Object.keys(t[0])[0].split("-"),i={},r=!0,s=!1,n=void 0;try{for(var o,c=t[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var l=o.value;i.activity_number=Object.keys(l)[0],i.czzy_spaid=this.workIdArr[e],i.czhd_spaid=l[Object.keys(l)[0]],this.setActivityList(i),i={}}}catch(d){s=!0,n=d}finally{try{r||null==c.return||c.return()}finally{if(s)throw n}}this.$router.push({name:"newActivity",query:{time:a[2],address:a[1],activityType:a[0],spaid:JSON.stringify({czzy_spaid:this.workIdArr[e]})}})},submitNewWork:function(){var t=this;l["w"].Jobs[0].MasterSpaId=this.currentZD_data(this.currentZD).ExtendData.ywsj_spaid,l["w"].Jobs[0].Object.ExtendData.pyzd_spaid=this.currentZD_data(this.currentZD).SpaId,l["w"].Jobs[0].Object.ExtendData.timestamp=this.$route.query.time+this.getSelectHour,Object(u["h"])(l["w"],"/tree/create").then(function(e){200===e.data.status&&t.$router.push({name:"newActivity",query:{time:t.$route.query.time+t.getSelectHour,address:t.$route.query.address,spaid:JSON.stringify({czzy_spaid:e.data.response.CZZY.objects[0].principle.SpaId})},params:{}})})},getActivity:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,a,i=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.activityArr=[],this.activityNameList=[],0!==this.workIdArr.length){t.next=5;break}return this.noActivity=!0,t.abrupt("return");case 5:e=regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=l["a"],a.Jobs[0].MasterSpaId=i.workIdArr[e],t.next=4,Object(u["h"])(a,"/tree/select").then(function(t){if(200===t.data.status)if(t.data.response){i.noActivity=!1,i.activityArr[e]=t.data.response.CZHD.objects;var a=[],r={},s=!0,n=!1,o=void 0;try{for(var c,l=i.activityArr[e][Symbol.iterator]();!(s=(c=l.next()).done);s=!0){var d=c.value;r[d.principle.ExtendData.activity_number]=d.principle.SpaId,a.push(r),r={}}}catch(u){n=!0,o=u}finally{try{s||null==l.return||l.return()}finally{if(n)throw o}}i.activityNameList.push(a)}else i.noActivity=!0});case 4:case"end":return t.stop()}},t)}),a=0;case 7:if(!(a<this.workIdArr.length)){t.next=12;break}return t.delegateYield(e(a),"t0",9);case 9:a++,t.next=7;break;case 12:for(a=0;a<this.activityArr.length;a++)this.activityArr[a]||(this.activityArr.splice(a,1),a--);this.activityArr[0]&&this.showActivityInfo(this.activityArr[0][0].principle.ExtendData.activity_number,0,0);case 14:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getAllRecord:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){var a,i,r=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=l["n"],i=this,i.recordData="",a.Jobs[0].MasterSpaId=e,t.next=6,Object(u["h"])(a,"/tree/select").then(function(t){200===t.data.status&&(t.data.response?(i.recordData=t.data.response.CZJL.objects,r.makeCard()):(r.$message.warning("这个活动下，没有记录"),r.recordLoading=!1))});case 6:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),Refactoring:function(t){var e=t.principle.ExtendData,a={};if(t.fks)for(var i=t.fks,r=0;r<i.length;r++)Object.assign(a,i[r]);for(var s in a["SpaId"]=t.principle.SpaId,a["CreateAt"]=t.principle.CreateAt,e)a[s]=e[s];var n=a.PYZD.extenddata.number+"-";return null==a.YX?(n+=a.MP.extenddata.name+"-",n+=a.FQ.extenddata.name+"-"):n+=a.YX.extenddata.name+"-",n+=a.haopai_color+"-"+a.haopai_number,a.title=n,a.type=a.ORDER.extenddata.name+"-"+a.FAMILY.extenddata.name+"-"+a.GENUS.extenddata.name,a}}),mounted:function(){this.getActivity()}},F=J,L=(a("0d97"),Object(f["a"])(F,i,r,!1,null,"446b3cad",null));e["default"]=L.exports},8615:function(t,e,a){var i=a("5ca1"),r=a("504c")(!1);i(i.S,"Object",{values:function(t){return r(t)}})},9885:function(t,e,a){},"9dac":function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"uploadRoot",attrs:{closable:!1}},[a("el-upload",{staticClass:"avatar-upload",attrs:{disabled:t.uploadable,drag:"",multiple:"",action:"","http-request":t.uploadProcess,"show-file-list":!1}},[t.uploadable?a("div",[a("i",{staticClass:"el-icon-plus"}),a("p",{staticClass:"em",style:{color:"#fab6b6"}},[t._v("先填写表单，再上传图片")])]):a("div",[a("i",{staticClass:"el-icon-plus"}),a("h3",{staticClass:"em"},[t._v("批量上传图片，点击上传")])])])],1)},r=[],s=(a("7f7f"),a("28a5"),a("2f62"),a("4ec3")),n=(a("4eb9"),a("5c96"),a("e050")),o={name:"Upload",computed:{uploadable:function(){return!Boolean(this.masterid&&this.czda_spaid)}},props:["masterid","czda_spaid"],data:function(){return{}},methods:{uploadProcess:function(t){var e=this,a=this,i={url:"",objectName:"",fileExtension:""},r=t.file.name.split(".");i.fileExtension=r.pop(),s["h"]({ext:i.fileExtension},"/file/upload").then(function(r){200===r.data.status&&r.data.response?(i.url=r.data.response.url,i.objectName=r.data.response.objectName,a.uploadFile(t,i)):e.$message.warning("无上传地址")}).catch(function(t){e.$message.warning("请求上传失败"+t)})},uploadFile:function(t,e){var a=this,i=t.file,r=new XMLHttpRequest;r.upload.addEventListener("progress",function(e){var a=Math.round(100*e.loaded/e.total);a>50&&(a-=2),t.onProgress({percent:a})},!1),r.open("PUT",e.url,!0),r.send(i),r.onload=function(){200==r.status?(t.onSuccess("上传成功"),a.afterUpload(t,e)):a.handleError()}},afterUpload:function(t,e){var a=this,i=this;t.file;console.log(e.objectName);var r=n["l"];r.Jobs[0].MasterSpaId=i.masterid,r.Jobs[0].Object.ExtendData.czjl_spaid=i.masterid,r.Jobs[0].Object.ExtendData.czda_spaid=i.czda_spaid,r.Jobs[0].Object.ExtendFileData.file_id=e.objectName,r.Jobs[0].Object.ExtendFileData.mine_type=e.fileExtension,s["h"](r,"/tree/create").then(function(t){console.log(t),200===t.data.status&&t.data.response&&a.$emit("createImg",e.objectName)})},beforeAvatarUpload:function(t){var e=t.size/1024/1024<5;return e||this.$message.error("上传图片大小不能超过 5MB!"),e},handleError:function(t){console.log(t),this.$message.warning("上传失败")}}},c=o,l=(a("6714"),a("082b"),a("2877")),d=Object(l["a"])(c,i,r,!1,null,"4f6cece7",null);e["a"]=d.exports},adfd:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAgCAYAAAB3j6rJAAADc0lEQVRYR72WS2hcZRTHf//v5tWCtbRWgg9UUHzgY1F0YVFUqLgSwUbowvpOJzMIPhdqMnNvilarVDFkNEMxta4kiBFBKFiqIIIbF11UxRah1keoIonmZTL3yEwm75npvTdTv/U5//O7/+/c8x2xhmO9qW3ghhHjUNyunoEfk8opaaL5OLzMEeCOsobZkLL5B5LqJQcJdm/HNX0GNFVAJghnt8ovfJ8EJhGIgejt+hK525YVNT5Stn/H/wfip+7C8w4vuLFYeRxmblJP4WRcmNiOlN3Yk/4KdGvVYmafKJu/79yD+JnbcRxBld5YXXGc2ZnrFBROxYGJ70iQ+QbHLXWLmH2qbP7ecwZSnhvyjgLNZykywdTENXp58OeoMHUdsVxHC2pvg8kN4N2I5x0CbY4kbvYrYXEnMzpJkxvlt9lpFQoztXJVbj7/4VbY2AZjm/DargRuJuROxNWIi0Gxr3BFwSJwCrPvgKOE4bdYeIJ1jPJL65T6+qZlQXo/UgbREulLGx1kNgHkZHsy/0a480aXX6k3Igu6DuK0qwH2J4UNwfbO9UiQHsDpiaRKa8oLLVAu75ebsALzOk7Prkk0drI9o578m6W0hb/BfN/hRgLkumPrJUkIiyly7xZU9mEJyKIzmedw7EuiHS3HjJCdyuU/XBq/aj4YOIL0kzi9FU04TpQZxeIO/IGP552Yz646qOb2jfRDSINxytSPLUHY3fLf+bxaXM2JWXnuj4GubwiM2UFl84/UHPH1ilhveggp0ca1Stcso2w+Hxuk4sgPoKsa5Ejdhan21XR2NnNp8yTgNQjkNOHxK+R/MRuvR/zO9XjN4w2BmBMJGR3boDc+qKpZ25Hu9LW06ngDQWByul2vHBiJ50iQehBXWoQaeGTb1J3/Oh5IlD/G+AnC9zC1IT2GaD/LLFl4W1bGVR9oHR0eN2w5gXR5VWHjNBbuw5rel983Vn4e/M4LcF4K3NOITTXyDivbf09kR6zUqK75b4RbkTSCha8yXhzUa4XRaoLmpy5ELo3jKdD5y2LMfqd45jIFQ6VlbNmp7sgLuzaz/rw/FiPtL0LeZuqfPu099GeUrrHcoxfhtT6P3G5g3VxOacx7G+ddXKpTHaS0vXtbhoGtYAdocvv1Yn8kgJWQ5j9+Ca7lJaT7wYY5dqZLQ0OlZXrZ+Q9ajjHUvmUNYQAAAABJRU5ErkJggg=="},b29f:function(t,e,a){},b82e:function(t,e,a){"use strict";var i=a("9885"),r=a.n(i);r.a},c883:function(t,e,a){},d3a9:function(t,e,a){},d987:function(t,e,a){"use strict";var i=a("c883"),r=a.n(i);r.a},fb48:function(t,e,a){}}]);
//# sourceMappingURL=chunk-d0ceb1dc.9a1d2923.js.map