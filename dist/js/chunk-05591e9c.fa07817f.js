(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-05591e9c"],{"13eb":function(t,e,i){"use strict";var a=i("69e9"),r=i.n(a);r.a},"4eb9":function(t,e,i){"use strict";i.d(e,"g",function(){return a}),i.d(e,"a",function(){return r}),i.d(e,"c",function(){return s}),i.d(e,"d",function(){return o}),i.d(e,"f",function(){return n}),i.d(e,"h",function(){return c}),i.d(e,"e",function(){return l}),i.d(e,"i",function(){return d}),i.d(e,"j",function(){return u}),i.d(e,"b",function(){return p});var a=[{label:"红",value:"红",color:"red"},{label:"黄",value:"黄",color:"yellow"},{label:"蓝",value:"蓝",color:"blue"},{label:"绿",value:"绿",color:"green"}],r=[{title:"新建首次暂养活动",activityType:"首次暂养",typeId:"A1",idx:0},{title:"新建暂养巡检活动",activityType:"暂养巡检",typeId:"A2",idx:1},{title:"新建首次回播活动",activityType:"首次回播",typeId:"A3",idx:2},{title:"新建回播巡检活动",activityType:"回播巡检",typeId:"A4",idx:3}],s=[{label:"B2",value:"B2",color:"#E1EAAE"},{label:"B3",value:"B3",color:"#C1DA83"},{label:"B4",value:"B4",color:"#899D52"},{label:"B5",value:"B5",color:"#586832"},{label:"B6",value:"B6",color:"#223017"},{label:"C2",value:"C2",color:"#F9D2BC"},{label:"C3",value:"C3",color:"#F1915E"},{label:"C4",value:"C4",color:"#D86430"},{label:"C5",value:"C5",color:"#8A3820"},{label:"C6",value:"C6",color:"#510D0C"},{label:"D2",value:"D2",color:"#F7DA9F"},{label:"D3",value:"D3",color:"#F2A04C"},{label:"D4",value:"D4",color:"#CC7D3F"},{label:"D5",value:"D5",color:"#8F4124"},{label:"D6",value:"D6",color:"#73381C"},{label:"E2",value:"E2",color:"#EEEDA4"},{label:"E3",value:"E3",color:"#E2C96F"},{label:"E4",value:"E4",color:"#AC913D"},{label:"E5",value:"E5",color:"#764922"},{label:"E6",value:"E6",color:"#4C200E"}],o={B2:"#E1EAAE",B3:"#C1DA83",B4:"#899D52",B5:"#586832",B6:"#223017",C2:"#F9D2BC",C3:"#F1915E",C4:"#D86430",C5:"#8A3820",C6:"#510D0C",D2:"#F7DA9F",D3:"#F2A04C",D4:"#CC7D3F",D5:"#8F4124",D6:"#73381C",E2:"#EEEDA4",E3:"#E2C96F",E4:"#AC913D",E5:"#764922",E6:"#4C200E"},n=[{url:"http://dayy.xyz/resource/example/1.png",size:"223.4",time:"2018.4.10",name:"A1-大鹏大澳湾-2018090410-01"},{url:"http://dayy.xyz/resource/example/2.jpg",size:"235.6",time:"2018.5.09",name:"A2-大鹏大澳湾-2018050909-01"},{url:"http://dayy.xyz/resource/example/3.jpg",size:"240.2",time:"2018.6.09",name:"A2-大鹏大澳湾-2018060910-01"},{url:"http://dayy.xyz/resource/example/4.jpg",size:"242.5",time:"2018.6.17",name:"A2-大鹏大澳湾-2018061710-01"},{url:"http://dayy.xyz/resource/example/5.jpg",size:"243.2",time:"2018.7.01",name:"A2-大鹏大澳湾-2018070110-01"},{url:"http://dayy.xyz/resource/example/6.jpg",size:"250.4",time:"2018.7.28",name:"A2-大鹏大澳湾-2018072810-01"},{url:"http://dayy.xyz/resource/example/7.jpg",size:"254.6",time:"2018.11.17",name:"A2-大鹏大澳湾-2018111710-01"},{url:"http://dayy.xyz/resource/example/8.jpg",size:"260.3",time:"2018.12.29",name:"A2-大鹏大澳湾-2018122910-01"},{url:"http://dayy.xyz/resource/example/9.jpg",size:"268.4",time:"2019.3.02",name:"A2-大鹏大澳湾-2019030210-01"},{url:"http://dayy.xyz/resource/example/10.jpg",size:"278.5",time:"2019.3.17",name:"A3-大鹏大澳湾-2019031710-01"},{url:"http://dayy.xyz/resource/example/11.jpg",size:"279.1",time:"2019.4.06",name:"A4-大鹏大澳湾-2019040610-01"},{url:"http://dayy.xyz/resource/example/12.jpg",size:"280.5",time:"2019.6.02",name:"A4-大鹏大澳湾-2019060210-01"},{url:"http://dayy.xyz/resource/example/13.jpg",size:"284.6",time:"2019.6.22",name:"A4-大鹏大澳湾-2019062210-01"},{url:"http://dayy.xyz/resource/example/14.jpg",size:"288.1",time:"2019.8.24",name:"A4-大鹏大澳湾-2019082410-01"}],c=[{id:137,title:"算法",desc:"......"}],l=[{key:"jpg",doc_count:50},{key:"png",doc_count:30},{key:"gif",doc_count:20}],d=[{key:"全部",doc_count:100},{key:"三天内",doc_count:6},{key:"一周内",doc_count:15},{key:"一个月内",doc_count:23},{key:"三个月内",doc_count:25},{key:"半年内",doc_count:27},{key:"一年内",doc_count:50},{key:"一年前",doc_count:50}],u=[{value:"全部",command:"all"},{value:"图片",command:"image"},{value:"文档",command:"doc"},{value:"视频",command:"video"},{value:"音频",command:"audio"},{value:"其他文件",command:"others"},{value:"全文搜索",command:"doc_content"}],p=[{id:6,title:"科技"},{id:1,title:"文学"},{id:2,title:"流行"},{id:3,title:"文化"},{id:4,title:"生活"},{id:5,title:"经管"}]},"4fa4":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAgCAYAAAB3j6rJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAAIJSURBVFhH7ZZZi8IwEMen9b598kFQUFB89ft/EAV9UPBAFDzwvnb3H5Klm7XtpEV2H/qDUJ2kk38mM0mtjy/oH2DL558TCdGJhOiEFnI+n2k8Hst/wQkl5PF40GAwoNVqRafTSVqDEUrIYrEQAp7PJ00mE2kNRigh8/mcYrEY2bZNm82GDoeD7DEnsJDhcCgiYVnWdxuNRrLXnEBCkKC73U5EQgEhsK/Xa2kxw/OuuV6vdL/fRcPqMfl2uxUTQgQmdwJXsOXzecrlcpTNZimZTFI8HhcN2+iGq5DZbEbL5VJUBpqaxNlegXGqQbxTRCaToVqtJsTpuG4NVoWIwBlWD0cqMd1EAPSp8YlEQthut5uorkKh8FIEcBVSLBap1Wp9r85rci/U+/V6nSqVirT+xvd7BPnQ7/dFnjiTkwOiicg0m00qlUrS+hpfz+l0mjqdjvgNx1zU+hqNhq8IwP5CQ0R6vR5dLhffyMAlthKRKJfL0uoNO9bIfJQjFySlyXi2EETC5GJDxaFxYQuBU5ShXj3YBuSOvsPYSoznwhaCQ83pGBPDBpDQEKgffCaXIFuIs2KUKCRiu90WVYUnDizYlUCTrWRXDW5bfABh9ShHHNVIYJ3j8UjT6VTcSThDut2u7PGGLQT3zn6/p2q1SqlUSlrdwS2MiGA8B7aQd8POkXcTCdGJhPyE6BOe9CfjJbhOtAAAAABJRU5ErkJggg=="},"504c":function(t,e,i){var a=i("0d58"),r=i("6821"),s=i("52a7").f;t.exports=function(t){return function(e){var i,o=r(e),n=a(o),c=n.length,l=0,d=[];while(c>l)s.call(o,i=n[l++])&&d.push(t?[i,o[i]]:o[i]);return d}}},"63bc":function(t,e,i){"use strict";var a=i("9008"),r=i.n(a);r.a},"69e9":function(t,e,i){},"75db":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{directives:[{name:"show",rawName:"v-show",value:!t.isShowDetail,expression:"!isShowDetail"}],staticClass:"dayActivityRoot"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.noActivity,expression:"noActivity"}],staticClass:"empty"},[t._v("当前日期没有活动")]),i("div",{directives:[{name:"show",rawName:"v-show",value:!t.noActivity,expression:"!noActivity"}],staticClass:"dayActivity"},[i("div",{staticClass:"activityNameList"},[i("span",[t._v("当日活动列表")]),t._l(t.activityNameList,function(e,a){return i("div",{key:a,staticClass:"listBoard"},[t._l(e,function(e,r){return i("div",{key:r,staticClass:"listItem",class:a===t.action_1&&r===t.action_2?"activeItem":"",on:{click:function(i){return t.showActivityInfo(e,a,r)}}},[t._v(t._s(e))])}),e.length<4?i("div",{style:{textAlign:"right",marginTop:"0.3rem"}},[i("i",{staticClass:"el-icon-circle-plus-outline",on:{click:function(i){return t.addActivity(e,a)}}})]):t._e()],2)}),i("div",{style:{textAlign:"center",marginTop:"0.3rem",width:"100%",borderTop:"1.2px solid #ACACAC"}},[i("i",{staticClass:"el-icon-circle-plus",on:{click:t.addDivingWork}})])],2),t.activityInfo?i("div",{staticClass:"infoForm"},[i("activity-info",{attrs:{activityInfo:t.activityInfo}})],1):t._e(),i("div",{directives:[{name:"loading",rawName:"v-loading",value:t.recordLoading,expression:"recordLoading"}],staticClass:"fileArea",attrs:{"element-loading-spinner":"loadingSvg"}},[t._l(t.paginations.currentCoralList,function(e,a){return i("div",{key:a,staticClass:"list"},[i("file-item",{attrs:{showActivityData:e},on:{click:function(i){return t.toDetail(t.selectActivity,e)}}})],1)}),i("div",{directives:[{name:"show",rawName:"v-show",value:t.paginations.currentCoralList.length,expression:"paginations.currentCoralList.length"}],staticClass:"page"},[i("el-pagination",{attrs:{"hide-on-single-page":"","current-page":t.paginations.page_index,layout:t.paginations.layout,total:t.paginations.total,"page-size":t.paginations.page_size},on:{"current-change":t.handleCurrentChange}})],1)],2)]),i("el-dialog",{attrs:{title:"新建残枝作业",width:"600px",visible:t.showAdd,"append-to-body":"","show-close":!1},on:{"update:visible":function(e){t.showAdd=e}}},[i("el-form",{attrs:{model:t.newWorkForm}},[i("el-form-item",[i("el-col",{attrs:{span:2}},[t._v(" ")]),i("el-col",{style:{textAlign:"center"},attrs:{span:6}},[i("span",[t._v("日期")])]),i("el-col",{attrs:{span:16}},[i("p",{style:{color:"gray",fontSize:"1.1rem"}},[t._v(t._s(t.newWorkForm.time))])])],1),i("el-form-item",[i("el-col",{attrs:{span:2}},[t._v(" ")]),i("el-col",{style:{textAlign:"center"},attrs:{span:6}},[i("span",[t._v("区域")])]),i("el-col",{attrs:{span:16}},[i("p",{style:{color:"gray",fontSize:"1.1rem"}},[t._v(t._s(t.newWorkForm.address))])])],1),i("el-form-item",[i("el-col",{attrs:{span:2}},[t._v(" ")]),i("el-col",{style:{textAlign:"center"},attrs:{span:6}},[i("span",[t._v("残枝作业时间")])]),i("el-col",{attrs:{span:16}},[i("el-input",{style:{width:"70%"},attrs:{type:"number",min:"1",max:"24",placeholder:"请输入1-24之间的整数值",size:"mini"},model:{value:t.newWorkForm.selectHour,callback:function(e){t.$set(t.newWorkForm,"selectHour",t._n(e))},expression:"newWorkForm.selectHour"}})],1)],1)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"danger",disabled:t.selectHourValid},on:{click:t.submitNewWork}},[t._v("确定")]),i("el-button",{on:{click:function(e){t.showAdd=!1}}},[t._v("取消")])],1)],1)],1),t.isShowDetail?i("div",{staticStyle:{"margin-left":"16vw","margin-top":"5.5vw"}},[i("div",{staticClass:"measuring",staticStyle:{"margin-left":"2rem"},on:{click:t.selectShow}},[t._v("返回")]),i("recordDetails",{attrs:{recordObj:t.oneRecordData}})],1):t._e()])},r=[],s=(i("7f7f"),i("ac4d"),i("8a81"),i("28a5"),i("ac6a"),i("96cf"),i("3b8d")),o=i("cebc"),n=i("c1df"),c=i.n(n),l=i("e050"),d=i("2f62"),u=i("4ec3"),p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"fileItem",on:{click:function(e){return t.$emit("click")}}},[i("div",{staticClass:"imgArea"},[i("el-image",{staticStyle:{width:"6rem",height:"4.5rem"},attrs:{src:t.showActivityData.imgUrl,fit:"fill",lazy:""}})],1),i("div",{staticClass:"information"},[i("span",[t._v("珊瑚编号："+t._s(t.showActivityData.coralNum))]),i("span",[t._v("属种："+t._s(t.showActivityData.species))]),i("span",[t._v("状态："+t._s(t.showActivityData.state))])]),i("span",{staticClass:"detail"},[t._v("详情 >")])])},m=[],h={props:{showActivityData:Object},data:function(){return{}}},v=h,g=(i("13eb"),i("2877")),f=Object(g["a"])(v,p,m,!1,null,"a99c107a",null),y=f.exports,b=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"infoRoot"},[i("div",{staticClass:"bottonArea"},[t.ifEdit?i("div",[i("el-button",{attrs:{type:"danger",round:"",size:"mini"},on:{click:t.submitEdit}},[t._v("提交")])],1):i("div",[i("i",{staticClass:"el-icon-s-operation",on:{click:t.editActivity}}),i("el-popover",{attrs:{placement:"top",trigger:"click"},model:{value:t.visible1,callback:function(e){t.visible1=e},expression:"visible1"}},[i("p",[t._v("确定删除该活动？")]),i("div",{staticStyle:{"text-align":"right",margin:"0"}},[i("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){t.visible1=!1}}},[t._v("否")]),i("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.visible1=!1,t.deleteActivity()}}},[t._v("是")])],1),i("span",{staticClass:"el-icon-delete",style:{cursor:"pointer"},attrs:{slot:"reference"},slot:"reference"})])],1)]),i("div",{staticClass:"infoBoard"},[i("h2",{style:{color:"#FF6B6B"}},[t._v("活动详情")]),i("div",{staticClass:"infoBody"},[i("el-col",{attrs:{span:3}},[t._v(" ")]),i("el-col",{attrs:{span:18}},t._l(t.formList,function(e,a){return i("div",{key:a,staticClass:"formItem"},[i("el-col",{attrs:{span:6}},[i("span",[t._v(t._s(e.title))])]),i("el-col",{attrs:{span:3}},[t._v(" ")]),i("el-col",{attrs:{span:15}},[/参与人员/.test(e.title)&&t.ifEdit?i("span",[i("el-input",{ref:"input",refInFor:!0,attrs:{placeholder:"请输入",size:"mini"},model:{value:t.members,callback:function(e){t.members=e},expression:"members"}})],1):/备注/.test(e.title)&&t.ifEdit?i("span",[i("el-input",{style:{marginBottom:"1vw"},attrs:{type:"textarea",placeholder:"请输入",autosize:{minRows:4,maxRows:10}},model:{value:t.remarks,callback:function(e){t.remarks=e},expression:"remarks"}})],1):i("span",[t._v(t._s(e.data))])]),i("br")],1)}),0),i("el-col",{attrs:{span:3}},[t._v(" ")])],1)])])},w=[],A=(i("8615"),{props:{activityInfo:{type:Object}},data:function(){return{ifEdit:!1,members:"",remarks:"",formTitle:[{title:"活动编号",data:""},{title:"活动时间",data:""},{title:"参与人员",data:""},{title:"活动类型",data:""},{title:"采集区域",data:""},{title:"珊瑚数量",data:""},{title:"品种数量",data:""},{title:"备注",data:""}],visible1:!1}},computed:{formList:function(){var t=this.formTitle,e=Object.values(this.activityInfo),i=!0,a=!1,r=void 0;try{for(var s,o=t[Symbol.iterator]();!(i=(s=o.next()).done);i=!0)for(var n=s.value,c=0,l=e;c<l.length;c++){var d=l[c];n.data=d,e.shift(d);break}}catch(u){a=!0,r=u}finally{try{i||null==o.return||o.return()}finally{if(a)throw r}}return t}},watch:{"activityInfo.activityNum":function(){this.members=this.activityInfo.totalMembers,this.remarks=this.activityInfo.remarks}},methods:{changeFocus:function(){this.$nextTick(function(){this.$refs.input[0].focus()})},editActivity:function(){this.ifEdit=!this.ifEdit,this.ifEdit&&this.changeFocus()},deleteActivity:function(){this.$message.warning("该功能还在开发中，敬请期待")},submitEdit:function(){var t=this;console.log(this.activityInfo);var e=l["c"];e.Jobs[0].Object.ExtendData.participants=t.members,e.Jobs[0].Object.ExtendData.comment=t.remarks,e.Jobs[0].MasterSpaId=t.activityInfo.czzy_spaid,e.Jobs[0].Object.SpaId=t.activityInfo.czhd_spaid,e.Jobs[0].Object.ExtendData.czzy_spaid=t.activityInfo.czzy_spaid,e.Jobs[0].Object.ExtendData.timestamp=t.activityInfo.activityTime,e.Jobs[0].Object.ExtendData.type=t.activityInfo.activityType,e.Jobs[0].Object.ExtendData.code=t.activityInfo.code,this.$message.warning("该功能还在开发中，敬请期待"),Object(u["h"])(e,"/tree/select/").then(function(t){console.log(t),2e3===t.data.status&&t.data.response}),this.editActivity()}},mounted:function(){this.members=this.activityInfo.totalMembers,this.remarks=this.activityInfo.remarks}}),x=A,k=(i("ebb9"),Object(g["a"])(x,b,w,!1,null,"2dc97c54",null)),D=k.exports,I=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"all-infor"},[a("div",{staticClass:"edit-img"},[a("div",{staticClass:"measuring",staticStyle:{"margin-left":"42rem",background:"#3FC1CB"},on:{click:t.beforEdit}},[a("span",{directives:[{name:"show",rawName:"v-show",value:t.ifEdit,expression:"ifEdit"}]},[t._v("取消")]),t._v("编辑\n    ")]),a("el-popover",{attrs:{placement:"top",trigger:"click"},model:{value:t.visible1,callback:function(e){t.visible1=e},expression:"visible1"}},[a("p",[t._v("确定删除该记录？")]),a("div",{staticStyle:{"text-align":"right",margin:"0"}},[a("el-button",{attrs:{size:"mini",type:"text"},on:{click:function(e){t.visible1=!1}}},[t._v("否")]),a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:function(e){t.visible1=!1,t.delRecord()}}},[t._v("是")])],1),a("div",{staticClass:"measuring",staticStyle:{"margin-left":"2rem"},attrs:{slot:"reference"},slot:"reference"},[t._v("删除")])])],1),a("div",{staticClass:"inforSwiper"},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:t.recordLoading,expression:"recordLoading"}],staticClass:"mian-size",attrs:{"element-loading-spinner":"loadingSvg"}},[a("el-row",[a("el-col",[a("div",[a("div",{staticStyle:{display:"flex"}},[a("span",{directives:[{name:"show",rawName:"v-show",value:1==t.isStart,expression:"isStart==1"}]},[a("img",{attrs:{src:i("adfd"),width:"80%",alt:""}})]),a("span",{directives:[{name:"show",rawName:"v-show",value:1!=t.isStart,expression:"isStart!=1"}],attrs:{slot:"reference"},slot:"reference"},[a("img",{attrs:{src:i("4fa4"),width:"80%",alt:""}})]),a("span",{staticClass:"record-name"},[t._v(t._s(t.coralName))])]),a("div",{},t._l(t.recordInfor,function(e,i){return a("div",{key:i,staticStyle:{"margin-bottom":"5px"}},[a("span",{staticStyle:{color:"rgb(12, 12, 12)","font-weight":"600"}},[t._v(t._s(e.title)+"：")]),a("span",[/状态/.test(e.title)&&t.ifEdit?a("span",[a("el-select",{staticStyle:{width:"60%",height:"80%"},attrs:{placeholder:"请选择"},model:{value:t.statusNew,callback:function(e){t.statusNew=e},expression:"statusNew"}},[a("el-option",{attrs:{label:"良好",value:"良好"}}),a("el-option",{attrs:{label:"部分白化",value:"部分白化"}}),a("el-option",{attrs:{label:"部分死亡",value:"部分死亡"}}),a("el-option",{attrs:{label:"死亡",value:"死亡"}}),a("el-option",{attrs:{label:"失踪",value:"失踪"}})],1)],1):/尺寸/.test(e.title)&&t.ifEdit?a("span",[a("el-input",{ref:"input",refInFor:!0,staticStyle:{width:"50%"},attrs:{placeholder:"请输入",size:"mini"},model:{value:t.areaNew,callback:function(e){t.areaNew=e},expression:"areaNew"}})],1):/高度/.test(e.title)&&t.ifEdit?a("span",[a("el-input",{ref:"input",refInFor:!0,staticStyle:{width:"50%"},attrs:{placeholder:"请输入",size:"mini"},model:{value:t.heightNew,callback:function(e){t.heightNew=e},expression:"heightNew"}})],1):/备注/.test(e.title)&&t.ifEdit?a("span",[a("el-input",{staticStyle:{width:"100%",display:"flex"},style:{marginBottom:"1vw"},attrs:{type:"textarea",placeholder:"请输入",autosize:{minRows:2,maxRows:10}},model:{value:t.commentNew,callback:function(e){t.commentNew=e},expression:"commentNew"}})],1):/颜色/.test(e.title)&&t.ifEdit?a("span",[a("el-select",{staticStyle:{width:"40%",height:"80%"},attrs:{placeholder:"浅色"},model:{value:t.lightest_colorNew,callback:function(e){t.lightest_colorNew=e},expression:"lightest_colorNew"}},t._l(t.colorList,function(e,i){return a("el-option",{key:i,attrs:{label:e.label,value:e.value}},[a("span",[t._v(t._s(e.label))]),a("span",{staticClass:"colorCircle",style:{backgroundColor:e.color}})])}),1),a("el-select",{staticStyle:{width:"40%",height:"80%"},attrs:{placeholder:"深色"},model:{value:t.darkest_colorNew,callback:function(e){t.darkest_colorNew=e},expression:"darkest_colorNew"}},t._l(t.colorList,function(e,i){return a("el-option",{key:i,attrs:{label:e.label,value:e.value}},[a("span",[t._v(t._s(e.label))]),a("span",{staticClass:"colorCircle",style:{backgroundColor:e.color}})])}),1)],1):a("span",[t._v(t._s(e.msg))])]),/颜色/.test(e.title)&&!t.ifEdit?a("span",[a("span",{staticClass:"color-block",style:"background-color:"+e.color}),a("span",{staticStyle:{margin:"0 0.5rem"}},[t._v("—")]),a("span",[t._v(t._s(e.msg2))]),a("span",{staticClass:"color-block",style:"background-color:"+e.color2})]):t._e(),/尺寸|高度/.test(e.title)&&e.msg?a("span",[t._v("\n                  cm\n                  "),/尺寸/.test(e.title)?a("sup",[t._v("2")]):t._e()]):t._e(),a("div",{directives:[{name:"show",rawName:"v-show",value:i!=t.recordInfor.length-1,expression:"index!=recordInfor.length-1"}],staticClass:"bottom-line"})])}),0)])])],1),a("div",{directives:[{name:"show",rawName:"v-show",value:t.ifEdit,expression:"ifEdit"}],staticStyle:{display:"flex","justify-content":"center"},on:{click:t.editRecord}},[a("div",{staticClass:"measuring",staticStyle:{background:"#3FC1CB"}},[t._v("确认编辑")])])],1),a("div",{staticStyle:{width:"40rem"}},[a("swiper",{attrs:{imgUrl:t.theRecordImgArr,imgHeight:9.5,imgWidth:10},on:{"update:imgUrl":function(e){t.theRecordImgArr=e},"update:img-url":function(e){t.theRecordImgArr=e},selectOneImg:t.chooseSwiperImg}}),a("div",{staticClass:"boderImg"},[a("img",{staticClass:"showOneImg",attrs:{width:"100%",src:t.imgUrlFormSwiper,alt:""}})])],1)])])},E=[],_=i("91b0"),C=i("4eb9"),j={components:{swiper:_["a"]},props:{recordObj:Object},data:function(){return{recordInfor:[{title:"活动编号",msg:""},{title:"属种",msg:"盔型珊瑚科目"},{title:"状态",msg:"部分白化"},{title:"阶段类型",msg:"回播"},{title:"暂养区域",msg:"A-宇宙号-1区"},{title:"颜色",msg:"D2",color:"rgb(247,218,159)",msg2:"D5",color2:"rgb(143,65,36)"},{title:"时间",msg:"2018.9.10.10"},{title:"尺寸",msg:"5.66"},{title:"高度",msg:""},{title:"备注",msg:"有松动现象，已经重新加固，污损生物已清除。"}],imgUrlFormSwiper:"",key:0,theRecordImgArr:[],inforLoading:!1,isStart:1,coralName:"",visible1:!1,ifEdit:!1,commentNew:"",heightNew:"",areaNew:"",statusNew:"",lightest_colorNew:"",darkest_colorNew:"",recordLoading:!1,colorList:[]}},watch:{},mounted:function(){console.log(this.recordObj),this.colorList=C["c"];var t=!0,e=!1,i=void 0;try{for(var a,r=this.recordObj.imgUrlArr[Symbol.iterator]();!(t=(a=r.next()).done);t=!0){var s=a.value;this.theRecordImgArr.push({url:s})}}catch(o){e=!0,i=o}finally{try{t||null==r.return||r.return()}finally{if(e)throw i}}this.imgUrlFormSwiper=this.recordObj.imgUrlArr[0],this.coralName=this.recordObj.coralNum,this.isStart=this.recordObj.daMsg.starred,this.madeForm()},methods:{madeForm:function(){this.recordInfor[0].msg=this.recordObj.actiName,this.recordInfor[1].msg=this.recordObj.species,this.recordInfor[2].msg=this.recordObj.state;var t=this.recordObj.actiName.split("-"),e={A1:"首次暂养",A2:"暂养巡检",A3:"首次回播",A4:"回播巡检"};this.recordInfor[4].msg=e[t[0]];var i=this.recordObj.ExtendData.lightest_color,a=this.recordObj.ExtendData.darkest_color;this.recordInfor[5].msg=i,this.recordInfor[5].msg2=a,this.recordInfor[5].color=C["d"][i],this.recordInfor[5].color2=C["d"][a],this.recordInfor[6].msg=this.recordObj.ExtendData.timestamp,console.log(this.recordObj.ExtendData),this.recordInfor[7].msg=this.recordObj.ExtendData.area,this.recordInfor[8].msg=this.recordObj.ExtendData.height,this.recordInfor[9].msg=this.recordObj.ExtendData.comment},beforEdit:function(){this.ifEdit||(this.commentNew=this.recordInfor[9].msg,this.heightNew=this.recordInfor[8].msg,this.areaNew=this.recordInfor[7].msg,this.statusNew=this.recordInfor[2].msg,this.lightest_colorNew=this.recordInfor[5].msg,this.darkest_colorNew=this.recordInfor[5].msg2),this.ifEdit=!this.ifEdit},chooseSwiperImg:function(t){this.imgUrlFormSwiper=t},editRecord:function(){var t=this,e=this;e.recordLoading=!0;var i=l["u"];i.Jobs[0].Object.ExtendData.czhd_spaid=e.recordObj.ExtendData.czhd_spaid,i.Jobs[0].Object.ExtendData.czda_spaid=e.recordObj.daId,i.Jobs[0].MasterSpaId=e.recordObj.ExtendData.czhd_spaid,i.Jobs[0].Object.SpaId=e.recordObj.jlId,i.Jobs[0].Object.ExtendData.status=this.statusNew,i.Jobs[0].Object.ExtendData.lightest_color=this.lightest_colorNew,i.Jobs[0].Object.ExtendData.darkest_color=this.darkest_colorNew,i.Jobs[0].Object.ExtendData.comment=this.commentNew,i.Jobs[0].Object.ExtendData.height=this.heightNew,i.Jobs[0].Object.ExtendData.area=this.areaNew,u["h"](i,"/tree/update").then(function(i){200===i.data.status&&i.data.response&&(t.$message.success("成功修改记录"),t.recordInfor[9].msg=i.data.response.CZJL.objects[0].principle.ExtendData.comment,t.recordInfor[8].msg=i.data.response.CZJL.objects[0].principle.ExtendData.height,t.recordInfor[7].msg=i.data.response.CZJL.objects[0].principle.ExtendData.area,t.recordInfor[2].msg=i.data.response.CZJL.objects[0].principle.ExtendData.status,t.recordInfor[5].msg=i.data.response.CZJL.objects[0].principle.ExtendData.lightest_color,t.recordInfor[5].msg2=i.data.response.CZJL.objects[0].principle.ExtendData.darkest_color,e.recordLoading=!1,t.ifEdit=!1)})},delRecord:function(){this.$message.warning("该功能还在开发中，敬请期待")}}},N=j,O=(i("63bc"),Object(g["a"])(N,I,E,!1,null,"009ba944",null)),S=O.exports,z={components:{"activity-info":D,"file-item":y,recordDetails:S},data:function(){return{activityNameList:[],selectHourValid:!0,selectActivity:"",activityInfo:{activityNum:"",activityTime:"",totalMembers:"",activityType:"",gatherArea:"",coralQuantity:0,varietyQuantity:0,remarks:"-"},coralList:[],activityFirstIndex:0,action_1:0,action_2:0,showAdd:!1,newWorkForm:{},paginations:{currentCoralList:[],page_index:1,total:0,page_size:4,layout:"prev, pager, next"},activityArr:[],noActivity:!1,recordData:[],allMsg:[],imgId:[],recordLoading:!0,isShowDetail:!1,oneRecordData:{}}},computed:Object(o["a"])({},Object(d["d"])(["workIdArr","currentZD"]),Object(d["b"])({currentZD_data:"getCurrentZD_data"}),{getSelectHour:function(){var t;return t=parseInt(this.newWorkForm.selectHour)>0&&parseInt(this.newWorkForm.selectHour)<10?"0"+this.newWorkForm.selectHour:this.newWorkForm.selectHour,t}}),watch:{workIdArr:function(){this.getActivity()},"newWorkForm.selectHour":function(){this.newWorkForm.selectHour&&(parseInt(this.newWorkForm.selectHour)>0&&parseInt(this.newWorkForm.selectHour)<=24?this.selectHourValid=!1:this.selectHourValid=!0)}},methods:Object(o["a"])({},Object(d["c"])(["setCalendarShowActivity"]),{showActivityInfo:function(t,e,i){this.recordLoading=!0,this.selectActivity=t;var a=this.activityArr[e][i];this.activityInfo.activityNum=a.principle.ExtendData.activity_number,this.activityInfo.activityTime=a.principle.ExtendData.timestamp,this.activityInfo.totalMembers=a.principle.ExtendData.participants,this.activityInfo.activityType=a.principle.ExtendData.type,this.activityInfo.gatherArea=this.$route.query.address,this.activityInfo.coralQuantity="",this.activityInfo.varietyQuantity="",this.activityInfo.remarks=a.principle.ExtendData.comment,this.activityInfo.czzy_spaid=a.principle.ExtendData.czzy_spaid,this.activityInfo.code=a.principle.ExtendData.code,this.activityInfo.czhd_spaid=a.principle.SpaId,this.activityFirstIndex=i,this.action_1=e,this.action_2=i,this.getAllRecord(a.principle.SpaId),this.coralList=[],this.paginations.currentCoralList=[]},makeCard:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,i,a,r=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:e=this,e.allMsg=[],i=regeneratorRuntime.mark(function t(i){var a,s,o,n,c,d;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=r.recordData[i].principle.SpaId,s=r.recordData[i].principle.ExtendData.czda_spaid,e.allMsg[i]={},e.allMsg[i].jlId=a,e.allMsg[i].daId=s,e.allMsg[i].daMsg="",e.allMsg[i].imgUrlArr=[],e.allMsg[i].imgUrl="",e.allMsg[i].imgId=[],e.allMsg[i].ExtendData=r.recordData[i].principle.ExtendData,o=l["g"],o.Jobs[0].CZDASpaId=s,o.Jobs[0].Where[0].Operator.Value=s,t.next=15,Object(u["h"])(o,"/tree/select").then(function(t){200===t.data.status&&t.data.response&&(e.allMsg[i].daMsg=e.Refactoring(t.data.response.CZDA.objects[0]))});case 15:return n=l["m"],n.Jobs[0].MasterSpaId=a,t.next=19,Object(u["h"])(n,"/tree/select").then(function(t){if(200===t.data.status&&t.data.response)for(var a=t.data.response.CZZP.objects,r=0;r<a.length;++r){var s=a[r].principle.ExtendFileData.file_id;e.allMsg[i].imgId.push(s)}});case 19:c=0;case 20:if(!(c<e.allMsg[i].imgId.length)){t.next=28;break}if(d=e.allMsg[i].imgId[c],!d){t.next=25;break}return t.next=25,Object(u["h"])({file_id:d},"/file/get").then(function(t){200===t.data.status&&t.data.response&&e.allMsg[i].imgUrlArr.push(t.data.response.url)});case 25:c++,t.next=20;break;case 28:e.allMsg[i].imgUrl=e.allMsg[i].imgUrlArr[0],e.allMsg[i].coralNum=e.allMsg[i].daMsg.title,e.allMsg[i].species=e.allMsg[i].daMsg.type,e.allMsg[i].state=r.recordData[i].principle.ExtendData.status,console.log("记录数据",i);case 33:case"end":return t.stop()}},t)}),a=0;case 4:if(!(a<this.recordData.length)){t.next=9;break}return t.delegateYield(i(a),"t0",6);case 6:a++,t.next=4;break;case 9:e.coralList=e.allMsg,this.setpaginations(1,this.paginations.page_size);case 11:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),handleCurrentChange:function(t){this.setpaginations(t,this.paginations.page_size)},toDetail:function(t,e){this.oneRecordData=e,this.oneRecordData.actiName=t,this.selectShow(),console.log("记录：",this.oneRecordData)},selectShow:function(){this.isShowDetail=!this.isShowDetail},setpaginations:function(t,e){this.paginations.total=this.coralList.length,this.paginations.currentCoralList=this.coralList.slice((t-1)*e,t*e),this.recordLoading=!1},addDivingWork:function(){this.newWorkForm={time:c()(this.$route.query.time,"YYYYMMDD").format("YYYY年MM月DD日"),address:this.$route.query.address,selectHour:""},this.showAdd=!0},addActivity:function(t,e){console.log(t,this.workIdArr[e]);var i=t[0].split("-");this.$router.push({name:"newActivity",query:{time:i[2],address:i[1],activityType:i[0],spaid:JSON.stringify({czzy_spaid:this.workIdArr[e]})}})},submitNewWork:function(){var t=this;l["w"].Jobs[0].MasterSpaId=this.currentZD_data(this.currentZD).ExtendData.ywsj_spaid,l["w"].Jobs[0].Object.ExtendData.pyzd_spaid=this.currentZD_data(this.currentZD).SpaId,l["w"].Jobs[0].Object.ExtendData.timestamp=this.$route.query.time+this.getSelectHour,Object(u["h"])(l["w"],"/tree/create").then(function(e){console.log("新建作业",e),200===e.data.status&&(console.log("新建作业成功",e),t.$router.push({name:"newActivity",query:{time:t.$route.query.time+t.getSelectHour,address:t.$route.query.address,spaid:JSON.stringify({czzy_spaid:e.data.response.CZZY.objects[0].principle.SpaId})},params:{}}))})},getActivity:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(){var e,i,a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.activityArr=[],this.activityNameList=[],0!==this.workIdArr.length){t.next=5;break}return this.noActivity=!0,t.abrupt("return");case 5:e=regeneratorRuntime.mark(function t(e){var i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return i=l["a"],i.Jobs[0].MasterSpaId=a.workIdArr[e],t.next=4,Object(u["h"])(i,"/tree/select").then(function(t){if(200===t.data.status)if(t.data.response){a.noActivity=!1,a.activityArr[e]=t.data.response.CZHD.objects;var i=[],r=!0,s=!1,o=void 0;try{for(var n,c=a.activityArr[e][Symbol.iterator]();!(r=(n=c.next()).done);r=!0){var l=n.value;i.push(l.principle.ExtendData.activity_number)}}catch(d){s=!0,o=d}finally{try{r||null==c.return||c.return()}finally{if(s)throw o}}a.activityNameList.push(i)}else a.noActivity=!0});case 4:case"end":return t.stop()}},t)}),i=0;case 7:if(!(i<this.workIdArr.length)){t.next=12;break}return t.delegateYield(e(i),"t0",9);case 9:i++,t.next=7;break;case 12:console.log("活动",this.activityArr),this.activityArr[0]&&this.showActivityInfo(this.activityArr[0][0].principle.ExtendData.activity_number,0,0);case 14:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getAllRecord:function(){var t=Object(s["a"])(regeneratorRuntime.mark(function t(e){var i,a,r=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return i=l["n"],a=this,a.recordData="",i.Jobs[0].MasterSpaId=e,t.next=6,Object(u["h"])(i,"/tree/select").then(function(t){200===t.data.status&&(t.data.response?(a.recordData=t.data.response.CZJL.objects,console.log("记录",a.recordData),r.makeCard()):(r.$message.warning("这个活动下，没有记录"),r.recordLoading=!1))});case 6:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),Refactoring:function(t){var e=t.principle.ExtendData,i={};if(t.fks)for(var a=t.fks,r=0;r<a.length;r++)Object.assign(i,a[r]);for(var s in i["SpaId"]=t.principle.SpaId,i["CreateAt"]=t.principle.CreateAt,e)i[s]=e[s];var o=i.PYZD.extenddata.number+"-";return null==i.YX?(o+=i.MP.extenddata.name+"-",o+=i.FQ.extenddata.name+"-"):o+=i.YX.extenddata.name+"-",o+=i.haopai_color+"-"+i.haopai_number,i.title=o,i.type=i.ORDER.extenddata.name+"-"+i.FAMILY.extenddata.name+"-"+i.GENUS.extenddata.name,i}}),mounted:function(){this.getActivity()},beforeRouteEnter:function(t,e,i){i(function(t){})}},J=z,F=(i("d117"),Object(g["a"])(J,a,r,!1,null,"f98b03d2",null));e["default"]=F.exports},8615:function(t,e,i){var a=i("5ca1"),r=i("504c")(!1);a(a.S,"Object",{values:function(t){return r(t)}})},9008:function(t,e,i){},adfd:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAgCAYAAAB3j6rJAAADc0lEQVRYR72WS2hcZRTHf//v5tWCtbRWgg9UUHzgY1F0YVFUqLgSwUbowvpOJzMIPhdqMnNvilarVDFkNEMxta4kiBFBKFiqIIIbF11UxRah1keoIonmZTL3yEwm75npvTdTv/U5//O7/+/c8x2xhmO9qW3ghhHjUNyunoEfk8opaaL5OLzMEeCOsobZkLL5B5LqJQcJdm/HNX0GNFVAJghnt8ovfJ8EJhGIgejt+hK525YVNT5Stn/H/wfip+7C8w4vuLFYeRxmblJP4WRcmNiOlN3Yk/4KdGvVYmafKJu/79yD+JnbcRxBld5YXXGc2ZnrFBROxYGJ70iQ+QbHLXWLmH2qbP7ecwZSnhvyjgLNZykywdTENXp58OeoMHUdsVxHC2pvg8kN4N2I5x0CbY4kbvYrYXEnMzpJkxvlt9lpFQoztXJVbj7/4VbY2AZjm/DargRuJuROxNWIi0Gxr3BFwSJwCrPvgKOE4bdYeIJ1jPJL65T6+qZlQXo/UgbREulLGx1kNgHkZHsy/0a480aXX6k3Igu6DuK0qwH2J4UNwfbO9UiQHsDpiaRKa8oLLVAu75ebsALzOk7Prkk0drI9o578m6W0hb/BfN/hRgLkumPrJUkIiyly7xZU9mEJyKIzmedw7EuiHS3HjJCdyuU/XBq/aj4YOIL0kzi9FU04TpQZxeIO/IGP552Yz646qOb2jfRDSINxytSPLUHY3fLf+bxaXM2JWXnuj4GubwiM2UFl84/UHPH1ilhveggp0ca1Stcso2w+Hxuk4sgPoKsa5Ejdhan21XR2NnNp8yTgNQjkNOHxK+R/MRuvR/zO9XjN4w2BmBMJGR3boDc+qKpZ25Hu9LW06ngDQWByul2vHBiJ50iQehBXWoQaeGTb1J3/Oh5IlD/G+AnC9zC1IT2GaD/LLFl4W1bGVR9oHR0eN2w5gXR5VWHjNBbuw5rel983Vn4e/M4LcF4K3NOITTXyDivbf09kR6zUqK75b4RbkTSCha8yXhzUa4XRaoLmpy5ELo3jKdD5y2LMfqd45jIFQ6VlbNmp7sgLuzaz/rw/FiPtL0LeZuqfPu099GeUrrHcoxfhtT6P3G5g3VxOacx7G+ddXKpTHaS0vXtbhoGtYAdocvv1Yn8kgJWQ5j9+Ca7lJaT7wYY5dqZLQ0OlZXrZ+Q9ajjHUvmUNYQAAAABJRU5ErkJggg=="},c272:function(t,e,i){},c2a5:function(t,e,i){},d117:function(t,e,i){"use strict";var a=i("c272"),r=i.n(a);r.a},ebb9:function(t,e,i){"use strict";var a=i("c2a5"),r=i.n(a);r.a}}]);
//# sourceMappingURL=chunk-05591e9c.fa07817f.js.map