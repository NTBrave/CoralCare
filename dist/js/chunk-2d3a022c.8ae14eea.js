(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d3a022c"],{"0de5":function(t,i,e){},"0e8b":function(t,i,e){"use strict";var a=e("d622"),s=e.n(a);s.a},"46c4":function(t,i,e){"use strict";var a=e("81bd"),s=e.n(a);s.a},"81bd":function(t,i,e){},bfc8:function(t,i,e){},c0bc:function(t,i,e){"use strict";var a=e("0de5"),s=e.n(a);s.a},ce24:function(t,i,e){"use strict";e.r(i);var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"ActivityRoot"},[e("activity-nav",{attrs:{existActivity:t.existActivity}})],1)},s=[],c=e("d35e"),r={components:{"activity-nav":c["a"]},data:function(){return{existActivity:[]}},mounted:function(){this.existActivity=this.$route.params.existActivity}},o=r,n=(e("0e8b"),e("2877")),u=Object(n["a"])(o,a,s,!1,null,"06e89580",null);i["default"]=u.exports},d35e:function(t,i,e){"use strict";var a=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"cardList"},[t._l(t.activityTypes,function(i,a){return e("activity-card",{key:a,staticClass:"cardItem",attrs:{activityName:i.activityType,index:i.idx,activeItem:t.activeItem,navType:t.navType},on:{click:function(e){return t.change(i.idx)}}})}),e("el-dialog",{attrs:{width:"40%",title:t.form.title,visible:t.dialogFormVisible,"append-to-body":"",center:"","show-close":!1},on:{"update:visible":function(i){t.dialogFormVisible=i},close:t.back}},[e("el-form",{staticClass:"formBoard",attrs:{model:t.form}},[e("el-form-item",{staticStyle:{"{color":"#7e7e7e}"},attrs:{label:"活动编号","label-width":t.formLabelWidth}},[e("el-input",{attrs:{disabled:!0},model:{value:t.form.activityNum,callback:function(i){t.$set(t.form,"activityNum",i)},expression:"form.activityNum"}})],1),e("el-form-item",{attrs:{label:"活动类型","label-width":t.formLabelWidth}},[e("el-input",{attrs:{disabled:!0},model:{value:t.form.activityType,callback:function(i){t.$set(t.form,"activityType",i)},expression:"form.activityType"}})],1),e("el-form-item",{attrs:{label:"活动时间","label-width":t.formLabelWidth}},[e("el-input",{attrs:{disabled:!0},model:{value:t.form.activityTime,callback:function(i){t.$set(t.form,"activityTime",i)},expression:"form.activityTime"}})],1),e("el-form-item",{attrs:{label:"参与人员","label-width":t.formLabelWidth}},[e("el-input",{model:{value:t.form.members,callback:function(i){t.$set(t.form,"members",i)},expression:"form.members"}})],1),e("el-form-item",{attrs:{label:"备注","label-width":t.formLabelWidth}},[e("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:5}},model:{value:t.form.remarks,callback:function(i){t.$set(t.form,"remarks",i)},expression:"form.remarks"}})],1)],1),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{style:{width:"8vw"},attrs:{type:"danger",round:"",size:"medium"},on:{click:function(i){return t.newAnActivity()}}},[t._v("确定新建")]),e("el-button",{style:{width:"8vw"},attrs:{type:"info",round:"",size:"medium"},on:{click:function(i){return t.back()}}},[t._v("取消")])],1)],1)],2)},s=[],c=e("cebc"),r=e("c1df"),o=e.n(r),n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{class:t.navType,on:{click:function(i){return t.$emit("click")}}},[e("div",{staticClass:"subCard",class:t.activeItem===t.index?"activeItem":""},[t._v(t._s(t.activityName))])])},u=[],l=(e("c5f6"),{props:{activityName:String,navType:String,index:{type:Number,required:!0},activeItem:{type:Number,required:!0}},data:function(){return{activeShow:"activeItem"}},watch:{},methods:{},updated:function(){},mounted:function(){}}),d=l,m=(e("c0bc"),e("2877")),v=Object(m["a"])(d,n,u,!1,null,"25aa2bb8",null),y=v.exports,f=e("2f62"),p=e("4ec3"),h=e("e050"),b=e("6d62"),w=e("4eb9"),A={components:{"activity-card":y},props:{navType:{type:String,default:"card"},existActivity:{type:Array,default:function(){return[]}}},data:function(){return{activityTypes:w["a"],dialogFormVisible:!1,form:{title:"",activityNum:"",activityType:"",activityTime:"",members:"",remarks:""},formLabelWidth:"100px",activitiesList:[]}},watch:{"$route.path":function(){this.showActive()}},computed:Object(c["a"])({},Object(f["b"])({acticityHadCreated:"getNowDivingActivitiesList",activeItem:"getActiveId",currentWorkInfo:"getCurrentWork",activity_spaid:"getCurrentActivity_spaid"})),methods:Object(c["a"])({},Object(f["c"])(["setNowDivingActivitiesList","setNowDivingActivity","setActiveId","setActivityList"]),{showActive:function(){if(this.$route.query.activityType){var t=parseInt(this.$route.query.activityType.slice(1));this.setActiveId(t-1)}},back:function(){this.showActive(),this.dialogFormVisible=!1},change:function(t){this.setActiveId(t);var i=this.activityTypes[t].typeId+"-"+this.$route.query.address+"-"+this.$route.query.time;-1!==this.acticityHadCreated.indexOf(i)?(this.setNowDivingActivity(i),this.$router.push({path:"/manage/coralBreed/newActivity/".concat(this.activityTypes[t].typeId,"/create"),query:{time:this.$route.query.time,address:this.$route.query.address,activityType:this.activityTypes[t].typeId}})):(this.dialogFormVisible=!0,this.form={title:this.activityTypes[t].title,activityNum:i,activityType:this.activityTypes[t].activityType,activityTime:o()(this.$route.query.time,"YYYYMMDDHH").format("YYYY年MM月DD日HH点"),members:"",remarks:""})},newAnActivity:function(){var t=this;console.log(this.currentWorkInfo(this.$route.query.time));var i=Object(b["a"])(h["a"],this.currentWorkInfo(this.$route.query.time).SpaId,this.form);Object(p["i"])(i,"/tree/create").then(function(i){if(200===i.data.status){console.log(i);var e={};e.activity_number=i.data.response.CZHD.objects[0].principle.ExtendData.activity_number,e.czzy_spaid=i.data.response.CZHD.objects[0].principle.ExtendData.czzy_spaid,e.SpaId=i.data.response.CZHD.objects[0].principle.SpaId,t.setActivityList(e)}}),this.activitiesList=this.form.activityNum,this.setNowDivingActivitiesList(this.activitiesList),this.setNowDivingActivity(this.activitiesList),this.$router.push({path:"/manage/coralBreed/newActivity/".concat(this.form.activityNum.slice(0,2),"/create"),query:{time:this.$route.query.time,address:this.$route.query.address,activityType:this.form.activityNum.slice(0,2)}}),this.dialogFormVisible=!1}}),mounted:function(){this.$route.params.existActivity&&(this.activityList=this.$route.params.existActivity),this.showActive()}},g=A,T=(e("dd33"),e("46c4"),Object(m["a"])(g,a,s,!1,null,"5aabca25",null));i["a"]=T.exports},d622:function(t,i,e){},dd33:function(t,i,e){"use strict";var a=e("bfc8"),s=e.n(a);s.a}}]);
//# sourceMappingURL=chunk-2d3a022c.8ae14eea.js.map